!function(undef){var version="2.0.1",author="Vova Feldman",global=this,is_migrating=!1;"undefined"==typeof RW_Advanced_Options&&(RW_Advanced_Options={}),"function"!=typeof String.prototype.isEmpty&&(String.prototype.isEmpty=function(){return 0===this.length}),"function"!=typeof String.prototype.ltrim&&(String.prototype.ltrim=function(a){return"undefined"==typeof a&&(a="\\s"),this.replace(new RegExp("^("+a+")+"),"")}),"function"!=typeof String.prototype.rtrim&&(String.prototype.rtrim=function(a){return"undefined"==typeof a&&(a="\\s"),this.replace(new RegExp("("+a+")+$"),"")}),"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(a){return this.ltrim(a).rtrim(a)}),"function"!=typeof String.prototype.left&&(String.prototype.left=function(a){return this.substring(0,a)}),"function"!=typeof String.prototype.right&&(String.prototype.right=function(a){return this.substring(a)}),"function"!=typeof String.prototype.contains&&(String.prototype.contains=function(a){return-1<this.indexOf(a)}),"function"!=typeof String.prototype.startsWith&&(String.prototype.startsWith=function(a){return 0===this.indexOf(a)}),"function"!=typeof String.prototype.endsWith&&(String.prototype.endsWith=function(a){return this.length-a.length===this.lastIndexOf(a)}),"function"!=typeof String.prototype.ucfirst&&(String.prototype.ucfirst=function(){return 0==this.length?this:this.charAt(0).toUpperCase()+this.slice(1)}),"function"!=typeof String.prototype.toInt&&(String.prototype.toInt=function(){return parseInt(this,10)}),"function"!=typeof Array.prototype.isEmpty&&(Array.prototype.isEmpty=function(){return 0==this.length}),"function"!=typeof Array.prototype.swap&&(Array.prototype.swap=function(a,b){var c=this[a];return this[a]=this[b],this[b]=c,this});var emptyFunc=function(){};window.console||(console={}),console.log=console.log||emptyFunc,console.warn=console.warn||emptyFunc,console.error=console.error||emptyFunc,console.info=console.info||emptyFunc;var doc=document,body=document.body,docElem=doc.documentElement,win=window,nav=navigator,DUMMY_STR="DUMMY",UNDEF="undefined",EMPTY_PCID="00000000-0000-0000-0000-000000000000",svgXmlns="http://www.w3.org/2000/svg",EMPTY_OPTIONS={},HTTPS=location.href.match(/^https/i),LOCALHOST=!1,DOMAIN="rating-widget.com",WWW=HTTPS?"https://rating-widget.com/":"http://rating-widget.com/",WWW_IMG=HTTPS?"https://rating-widget.com/img/":"//img.rating-widget.com/",WWW_JS=HTTPS?"https://rating-widget.com/js/":"//js.rating-widget.com/",WWW_CSS=HTTPS?"https://rating-widget.com/css/":"//css.rating-widget.com/",WWW_TMB=HTTPS?"https://rating-widget.com/apps/thumb/":"http://tmb.rating-widget.com/",_DOMAIN_REGEX=/^https?\:\/\/([^\/?#]+)(?:[\/?#]|$)/i,is_IE=!1,is_FF=!1,is_CH=!1,is_SF=!1,is_OP=!1;nav.userAgent&&(is_IE=-1!=nav.userAgent.indexOf("MSIE"),is_FF=-1!=nav.userAgent.indexOf("Firefox"),is_CH=-1!=nav.userAgent.indexOf("Chrome"),is_SF=-1!=nav.userAgent.indexOf("Safari"),is_OP=-1!=nav.userAgent.indexOf("Opera")),global.RW=function(){var goptions=null,ratings={},elements={},options={},coptions={},langs={en:!0},themes={},render_options={},_flashLoaded=!1,_isPremium=!1,_plan="free",_isMobile=!1,_showRecommendations=!1,_showSponsoredRecommendations=!1,_ratings={},_count=0,_recommendations=[],_resourceMonitor={data:!1,resources:!1,css:!1,dcss:!1},_timestamp=new Date,_cookie,_identified=!1,_initialized=!1,_flashTimeout,ratings_data=[],load_call_num=0,_initTooltip=function(){RW._tooltip=doc.createElement("span"),RW._tooltip.style.display="none",RW._tooltip.className="rw-ui-tooltip",body.appendChild(RW._tooltip)},_isFlashInstalled=function(){var a="Shockwave Flash",b="ShockwaveFlash.ShockwaveFlash",c="application/x-shockwave-flash",d=[0,0,0],e=null;if(RW._is(nav.plugins)&&"object"==typeof nav.plugins[a]){if(e=nav.plugins[a].description,e&&(!RW._is(nav.mimeTypes)||!nav.mimeTypes[c]||nav.mimeTypes[c].enabledPlugin))return e=e.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),d[0]=parseInt(e.replace(/^(.*)\..*$/,"$1"),10),d[1]=parseInt(e.replace(/^.*\.(.*)\s.*$/,"$1"),10),d[2]=/[a-zA-Z]/.test(e)?parseInt(e.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0,d}else if(RW._is(win.ActiveXObject))try{var f=new ActiveXObject(b);if(f&&(e=f.GetVariable("$version")))return e=e.split(" ")[1].split(","),[parseInt(e[0],10),parseInt(e[1],10),parseInt(e[2],10)]}catch(g){}return!1},_rateCallback=function(a,b){var c=_ratings[b];return RW._isNumeric(b)&&RW._is(c)?(a.success||RW._error(a.msg),c.voteCompleted(a.success,a.data,a.msg),RW._clearJS(),void 0):(RW._clearJS(),void 0)},_syncRatings=function(){var d,e,a=[],b=[a],c=0,g=window.location.toString().indexOf("DBG=")>-1;for(var h in _ratings)(g||!_ratings[h].isSynced())&&(_ratings[h].getOption("readOnly")||!1===_ratings[h].getOption("sync")||(e={rid:_ratings[h].rid.toString(),type:_ratings[h].type,rclass:_ratings[h].rclass.substring(0,64),title:_ratings[h].title.substring(0,256),url:_ratings[h].url.substring(0,512),img:_ratings[h].img.substring(0,512)},d=e.rid.length+e.type.length+e.rclass.length+e.title.length+e.url.length+e.img.length+"{rid:type:rclass:title:url:img:}".length,c+d>RW.CALL_RATINGS_MAX_LEN&&(a=[],b.push(a),c=0),c+=d,a.push(e)));for(var i=0,c=b.length;c>i;i++)b[i].length>0&&RW.Com.jsonp(RW._jsUrl("api/v2/rating/update.php"),{data:[{name:"ratings",value:encodeURIComponent(RW.JSON.stringify(b[i]))}],callback:RW._updateCallback})},_prefillMissing=function(){for(var a in _ratings)""===_ratings[a].title&&(!RW._isNotEmptyString(_ratings[a].turid)||_ratings[a].turid.startsWith("t")&&RW._isNumeric(_ratings[a].turid.substring(1))||(_ratings[a].title=_ratings[a].turid));var b=RW.getPrimaryRating();if(!1!==b&&(""===b.title&&(b.title=doc.title),""===b.img)){var c=RW._getFirstByAttr("property","og:image","","meta",doc.head);RW._is(c)&&(b.img=c.getAttribute("content"))}},_renderRatings=function(){for(var a in _ratings)_ratings[a].render();RW._isFun(render_options.callback)&&render_options.callback(_ratings),RW._clearJS(),RW._invokeHook("RW_HOOK_READY"),_prefillMissing(),_syncRatings()},_isCssLoaded=function(a,b){var c=doc.createElement("div");c.id=a,c.style.position="relative",body.appendChild(c);var d=parseFloat(RW._getStyle(c,"zIndex"));return RW.remove(c),d==b},_isStaticCssLoaded=function(){return _isCssLoaded("rw-css-loaded-flag",12358)},_isDynamicCssLoaded=function(){return _isCssLoaded("rw-dcss-loaded-flag",12358)};return{MAX:5,MIN:1,LIKE_RATE:5,DISLIKE_RATE:0,MIN_STARS:1,MAX_STARS:20,CALL_RATINGS_MAX_LEN:1e3,PREFIX:"rw",CUSTOM:"custom",_TYPE:{STRING:"string",BOOL:"boolean",NUM:"numeric",SIZE:"size",DIR:"dir",ALIGN_HOR:"hor",ALIGN_VER:"ver",RTYPE:"rating_type"},_DEF_STYLES:{STAR:"oxygen",NERO:"thumbs"},_DEF_FONT_SIZE:{TINY:"10px",SMALL:"12px",MEDIUM:"16px",LARGE:"20px"},_DEF_LINE_HEIGHT:{TINY:"12px",SMALL:"16px",MEDIUM:"20px",LARGE:"30px"},_TEXT_MAP:{STAR:["rateAwful","ratePoor","rateAverage","rateGood","rateExcellent"],NERO:["dislike","like"]},TYPE:{STAR:"star",NERO:"nero"},SIZE:{TINY:"tiny",SMALL:"small",MEDIUM:"medium",LARGE:"large"},STYLE:{YELLOW:"yellow",RED:"red",GREEN:"green",BLUE:"blue",CUSTOM:"custom"},FREQUENCY:{ONCE:-1,UNLIMITED:0,DAILY:1,WEEKLY:7,MONTHLY:30,YEARLY:365},DIR:{LTR:"ltr",RTL:"rtl"},ID_LOCATION:{LSO:"lso",COOKIE:"cookie",STORAGE:"storage"},IDENTIFICATION:{DEVICE:"device",IP:"ip",ACCOUNT:"account",LOCAL_ACOUNT:"laccount"},ALIGN:{HOR:{LEFT:"left",CENTER:"center",RIGHT:"right"},VER:{TOP:"top",MIDDLE:"middle",BOTTOM:"bottom"}},site:{id:null,key:null,token:null,type:"website",category:"unknown",page:{url:window.location.toString()}},visitor:{id:null,gid:null,device:{id:EMPTY_PCID,type:"desktop",os:"other",browser:"other"},country:null,identifyBy:"laccount",mobile:!1},Ad:null,Sponsored:null,_tooltip:null,_defaultOptions:{lng:"en",url:"",img:"",title:"",type:"star",rclass:"",size:"small",theme:"",style:"",imgUrl:{ltr:"",rtl:""},readOnly:!1,sync:!0,reVote:!0,frequency:-1,showInfo:!0,showTooltip:!0,showAverage:!0,showReport:!0,showRecommendations:!1,hideRecommendations:!1,showSponsored:!1,showLoader:!0,boost:{votes:0,rate:5},uarid:"0",mobile:{optimized:!0,showTrigger:!0},label:{background:"#FFFFFF",text:{star:{empty:"{{text.rateThis}}",normal:"{{text.rateThis}} ({{rating.votes}} {{text.votes}})",rated:"{{rating.votes}} {{text.votes}}"},nero:{empty:"{{text.rateThis}}",normal:"{{text.rateThis}}",rated:"{{rating.votes}} {{text.votes}}"}}},advanced:{star:{stars:5},nero:{showDislike:!0,showLike:!0,text:{like:{empty:"{{rating.likes}}",rated:"{{rating.likes}}"},dislike:{empty:"{{rating.dislikes}}",rated:"{{rating.dislikes}}"}}},font:{bold:!1,italic:!1,color:"#000000",size:"12px",type:"inherit",hover:{color:"#000000"}},layout:{dir:"ltr",align:{hor:"right",ver:"middle"},lineHeight:"16px"},text:{rateAwful:"Awful",ratePoor:"Poor",rateAverage:"Average",rateGood:"Good",rateExcellent:"Excellent",rateThis:"Rate this",like:"Like",dislike:"Dislike",vote:"Vote",votes:"Votes",thanks:"Thank You",outOf:"out of",weRecommend:"We Recommend"},css:{container:""}},beforeRate:null,afterRate:null},getClassOptions:function(a){return RW._is(coptions[a])?coptions[a]:EMPTY_OPTIONS},getGlobalOptions:function(){return RW._is(goptions)?goptions:EMPTY_OPTIONS},getDefaultOptions:function(){return this._defaultOptions},_parseClassProperty:function(a,b,c){var d=a.className,e="rw-"+b+"-",f=d.indexOf(e);if(0>f)return c;if(f>0){if(f=d.indexOf(" "+e),0>f)return c;f++}for(var g="",h=f+e.length,i=d.length;i>h&&" "!=d.charAt(h);h++)g+=d.charAt(h);return g},_parseAtrProperty:function(a,b,c){return a.hasAttribute("data-"+b)?a.getAttribute("data-"+b):c},_getRatingId:function(a){var b=RW._parseClassProperty(a,"urid",!1);return!1===b&&(b=RW._parseAtrProperty(a,"urid",!1)),!1===b&&(b=RW._parseClassProperty(a,"title",!1)),!1===b&&(b=RW._parseAtrProperty(a,"title",!1)),RW._isNotEmptyString(b)?b.toLowerCase():!1},init:function(a,b,c,d){"object"!=typeof a&&(a={uid:a,vid:c,token:d,options:b,source:this.site.type,url:this.site.page.url,identifyBy:this.visitor.identifyBy}),this._identify(a),goptions=this._isUndefinedOrNull(a.options)?{}:a.options},_cookie:function(){return undef===_cookie&&(_cookie=new RW.Cookie),_cookie},_identifyVisitor:function(){var a=RW._cookie().get("device_id",!1);RW._isNumeric(a)&&(RW.visitor.device.id=a,_identified=!0),RW._renderFlash()},_generateDeviceID:function(){return((new Date).getTime()-13896504e5).toString()+Math.random().toString().substr(2,6)},_renderFlash:function(){if(this._is(RW_Advanced_Options.blockFlash)&&!0===RW_Advanced_Options.blockFlash||!1===_isFlashInstalled())return this._flashLoaded(!1),void 0;var a="",b=RW._jsUrl("RatingWidget.swf");if(is_IE){var c=location.href.match(/^https/i)?"https://":"http://";a+='<object id="rw_lso_flash_inner" classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" codebase="'+c+'download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=9,0,0,0" width="100" height="100" align="middle"><param name="allowScriptAccess" value="always" /><param name="allowFullScreen" value="false" /><param name="movie" value="'+b+'" /><param name="loop" value="false" /><param name="menu" value="false" /><param name="quality" value="best" /><param name="bgcolor" value="#ffffff" /><param name="wmode" value="transparent"/></object>'}else a+='<embed id="rw_lso_flash_inner" src="'+b+'" loop="false" menu="false" quality="best" bgcolor="#ffffff" width="100" height="100" align="middle" allowScriptAccess="always" allowFullScreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" wmode="transparent" />';var d=doc.createElement("div");d.id="rw_lso_flash",d.style.position="fixed",d.style.top=d.style.left="-100px",d.style.width=d.style.height="10px",d.innerHTML=a,doc.body.appendChild(d),_flashTimeout=setTimeout(function(){RW._flashLoaded(!1)},2e3)},_flashLoaded:function(a){if(!_flashLoaded){if(!a)return _identified||EMPTY_PCID!=RW.visitor.device.id||(RW.visitor.device.id=RW._generateDeviceID(),RW._cookie().set("device_id",RW.visitor.device.id)),this._startInit(),void 0;_flashLoaded=!0,clearTimeout(_flashTimeout),EMPTY_PCID!=RW.visitor.device.id?RW._getById("rw_lso_flash_inner").setDeviceID(RW.visitor.device.id):RW.visitor.device.id=RW._getById("rw_lso_flash_inner").getDeviceID(RW._generateDeviceID()),this._startInit()}},_startInit:function(){_initialized||(_initialized=!0,RW._invokeHook("RW_HOOK_INIT"),typeof RW_Async_Init!==UNDEF&&RW._isFun(RW_Async_Init)&&RW_Async_Init())},initRating:function(a,b){this._is(options[a])&&delete options[a],options[a]=b},initClass:function(a,b){this._is(coptions[a])&&delete coptions[a],coptions[a]=b},render:function(a,b,c){if(!is_migrating){undef===a&&(a={});var d,e,f,g;if(this._isNull(a)||"object"!=typeof a?(e=this._def(a,null),f=this._def(b,!0),g=this._def(c,undef)):(e=this._def(a.callback,null),f=this._def(a.optimized,!0),g=this._def(a.container,undef)),d=this._isFun(e)?function(){try{e.apply(this,Array.prototype.slice.call(arguments,0))}catch(a){console.error("ratingwidget: Error during callback: "+a.message)}}:null,render_options.optimized=f,render_options.callback=d,render_options.container=g,typeof _rwq!=typeof undef)for(var h=0;h<_rwq.length;h++)RW._isNotEmptyArray(_rwq[h])&&undef!==RW[_rwq[h][0]]&&"_setRecommendations"===_rwq[h][0]&&RW[_rwq[h][0]].apply(this,_rwq[h].slice(1));var i=RW._getByClassName("rw-ui-container","*",g);if(f&&0===i.length)return this._isFun(d)&&d([]),void 0;var j={uid:RW.Uid,huid:RW.site.id},k=0;_ratings={},_count=0,_resourceMonitor={data:!1,resources:!1,css:!1,dcss:_isStaticCssLoaded()},i.length>0&&(_initTooltip(),RW.RatingReport.init(),_resourceMonitor.css||RW.Com.asyncCss(RW._cssUrl("widget/style."+(LOCALHOST?"":HTTPS?"secure.":"min.")+"css"),{isLoaded:_isStaticCssLoaded,callback:function(){RW._resourceLoaded("css")}}));var l={},m=[];RW._foreach(i,function(a){if(!RW._Class.has(a,"rw-no-render")){var b=RW._getRatingId(a);b||(b="t"+k,k++),a.setAttribute("data-urid",b),l[b]=!0}});for(var n in l)_ratings[n]=new RW.Rating(n,j,options[n]),m.push(encodeURIComponent(n)),_count++;var o=[{name:"ids",value:m.join(",")}];k>0&&o.push({name:"url",value:encodeURIComponent(RW.site.page.url)}),RW.Com.jsonp(RW._jsUrl("api/rating/get.php"),{data:o})}},_isEqualImg:function(a,b){return this._is(a)&&this._is(b)&&a.ltr==b.ltr&&a.rtl==b.rtl},_keys:function(a){var b=[];for(var c in a)b.push(c);return b},_clearJS:function(){RW._foreach(RW._getByClassName("rw-js-container","div"),function(a){if(a.hasChildNodes())for(;a.childNodes.length>0;)a.removeChild(a.firstChild)})},_distroyRatings:function(){for(var a in _ratings)_ratings[a].distroy(),delete _ratings[a]},_resourceLoaded:function(a){_resourceMonitor[a]=!0,_resourceMonitor.data&&_resourceMonitor.resources&&_resourceMonitor.css&&_resourceMonitor.dcss&&_renderRatings()},_getCallback:function(a){if(!a.success)return this._distroyRatings(),0==a.msg.indexOf("MAINTENANCE")?console.warn("ratingwidget: "+a.msg):RW._error(a.msg),void 0;_isPremium=!a.data.basic,_plan=a.data.plan,a.data.basic&&(this.site.token=null),RW.IDENTIFICATION.IP!==this.visitor.identifyBy||RW._isTrial()||RW._isProfessional()||(this.visitor.identifyBy=RW.IDENTIFICATION.LOCAL_ACOUNT,console.warn("ratingwidget: IP visitor identification is not supported in your plan. Please upgrade to Professional (http://rating-widget.com/pricing/).")),this.site.id=a.data.user.huid,this.Ad=new RW.Ads(a.data.ads),_showRecommendations=a.data.recommendations,_showSponsoredRecommendations=a.data.showSponsored,this.site.category=a.data.site.category,this.visitor.country=a.data.visitor.country,RW._is(a.data.visitor.id)&&(this.visitor.gid=a.data.visitor.id),this.Sponsored=new RW.Rec,this.Sponsored.preload(),this._foreach(_recommendations,function(a){a.postRender()});for(var b=a.data.ratings,c=0,d=b.length;d>c;c++)undef!==b[c].turid&&(_ratings[b[c].urid]=_ratings[b[c].turid],delete _ratings[b[c].turid],_ratings[b[c].urid].turid=b[c].turid),_ratings[b[c].urid].initData(b[c]);RW._is(a.data.settings.site)&&(goptions=RW._extandObj(RW.getGlobalOptions(),a.data.settings.site)),this._resourceLoaded("data");var e={},f={};if(render_options.optimized){for(var g in _ratings)e=RW._extandObj(e,_ratings[g].getRequiredResources());for(var h in RW.TYPE)if(e[RW.TYPE[h]])for(var i in e[RW.TYPE[h]].theme)for(var j in e[RW.TYPE[h]].theme[i])f[j]=!0}RW.Com.jsonp(RW._jsUrl("api/resources.js"),{data:render_options.optimized?[{name:"lngs",value:RW._keys(e.lng).join(",")},{name:"themes",value:RW._keys(f).join(",")}]:[{name:"all",value:""}],isStatic:!0}),render_options.optimized&&delete e.lng,RW.Com.asyncCss(RW._cssUrl("widget/theme.css"),{data:[render_options.optimized?{name:"data",value:encodeURIComponent(RW.JSON.stringify(e))}:{name:"all",value:""},{name:"huid",value:RW.site.id}],isLoaded:_isDynamicCssLoaded,callback:function(){RW._resourceLoaded("dcss")}})},_updateCallback:function(){},_resourceCallback:function(a){for(var b in coptions)RW._is(coptions[b].imgUrl)&&RW._addCustomImgStyle(coptions[b].imgUrl,[coptions[b].type],"class",b);for(var c in RWT)RW._is(RWT[c].options.imgUrl)&&RW._addCustomImgStyle(RWT[c].options.imgUrl,[RWT[c].options.type],"theme",c);_isMobile=undef!==a&&!0===a.isMobile,this.visitor.mobile=_isMobile,undef!==a&&undef!==a.device&&(this.visitor.device.type=a.device,this.visitor.device.os=a.os,this.visitor.device.browser=a.browser),this._resourceLoaded("resources")},_visitorLoadCallback:function(a){a.success&&(this.visitor.gid=a.data.visitor.id)},_rateCallback:function(a,b){_rateCallback(a,b)},_likeCallback:function(a,b){_rateCallback(a,b)},_identify:function(a){this._isString(a.uid)&&32===a.uid.length?this.site.key=a.uid.toLowerCase():this._error("Invalid site public-key."),this._is(a.vid)&&this._setVisitorID(a.vid),this._is(a.token)&&this._is(a.token.token)&&this._isString(a.token.token)&&32==a.token.token.length&&this._is(a.token.timestamp)&&this._isNumeric(a.token.timestamp)&&(this.site.token={timestamp:a.token.timestamp,token:a.token.token}),this._is(a.huid)&&(!this._isNumeric(a.huid)||parseInt(a.huid,10)<0?this._error("Invalid site id."):this.site.id=parseInt(a.huid,10)),this.site.type=(a.source||this.site.type).toLowerCase(),this.site.page.url=this._def(a.url,this.site.page.url).toString(),this.visitor.identifyBy=a.identifyBy||this.visitor.identifyBy},_extandObj:function(a,b){if(null==a)return this._cloneObj(b);if(null==b||"object"!=typeof b)return a;for(var c in b)b.hasOwnProperty(c)&&(a.hasOwnProperty(c)?"object"==typeof a[c]&&this._extandObj(a[c],b[c]):a[c]=this._cloneObj(b[c]));return a},_cloneObj:function(a){if(null==a||"object"!=typeof a)return a;var b;if(RW._isArray(a)){b=[];for(var c=0;c<a.length;c++)b.push(a[c])}else{b={};for(var d in a)a.hasOwnProperty(d)&&(b[d]=this._cloneObj(a[d]))}return b},obj2Uri:function(a){return encodeURIComponent(JSON.stringify(a)).replace(/!/g,"%21").replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\*/g,"%2A").replace(/%20/g,"+")},uri2obj:function(a){return JSON.parse(decodeURIComponent(a.replace(/\%21/g,"!").replace(/\%27/g,"'").replace(/\%28/g,"(").replace(/\%29/g,")").replace(/\%2A/g,"*").replace(/\+/g,"%20")))},getPrimaryRating:function(){if(0==_count)return!1;if(1==_count)return _ratings[RW._keys(_ratings)[0]];var b,a=0,c=!1;for(var d in _ratings)if(b=_ratings[d].getOption("rclass"),("page"===b||"blog-post"===b||"front-post"===b||"product"===b)&&(c=_ratings[d],a++),a>1)return!1;return c},getRating:function(a){return RW._isNumeric(a)&&RW._is(_ratings[a])?_ratings[a]:undef},getRatings:function(){return _ratings},getTopRatedWidgets:function(){return _recommendations},_getClassOptions:function(a){return this._is(coptions[a])?coptions[a]:!1},_getThemeOptions:function(a){return this._is(RWT[a])&&this._is(RWT[a])?RWT[a].options:!1},_addCustomImgStyle:function(a,b,c,d){var e="rw_"+c+"_"+d+"_custom_style",f=".rw-"+c+"-"+d,g=RW._getById(e);RW._is(g)&&g.parentNode.removeChild(g),g=doc.createElement("style"),g.type="text/css",g.rel="stylesheet",g.id=e,doc.getElementsByTagName("head")[0].appendChild(g);for(var h="",i=0,j=b.length;j>i;i++)h+=b[i]==RW.TYPE.STAR?f+".rw-ui-star.rw-ui-container.rw-style-custom .rw-ui-stars li { background-image: url('"+a.ltr+"'); }\n"+f+".rw-rtl.rw-ui-star.rw-ui-container.rw-style-custom .rw-ui-stars li { background-image: url('"+a.rtl+"'); }\n":f+".rw-ui-nero.rw-ui-container.rw-style-custom .rw-ui-like-icon,\n"+f+".rw-ui-nero.rw-ui-container.rw-style-custom .rw-ui-dislike-icon\n"+"{ background-image: url('"+a.ltr+"'); }"+f+".rw-rtl.rw-ui-nero.rw-ui-container.rw-style-custom .rw-ui-like-icon,\n"+f+".rw-rtl.rw-ui-nero.rw-ui-container.rw-style-custom .rw-ui-dislike-icon\n"+"{ background-image: url('"+a.rtl+"'); }";if(g.styleSheet)g.styleSheet.cssText=h;else{var k=doc.createTextNode(h);g.appendChild(k)}},_def:function(a,b,c,d){return!this._is(a)||this._is(d)&&a===d||this._is(c)&&(c==this._TYPE.BOOL&&!this._isBoolean(a)||c==this._TYPE.NUM&&!this._isNumeric(a)||c==this._TYPE.STRING&&!this._isString(a)||c==this._TYPE.SIZE&&!this._isSize(a)||c==this._TYPE.DIR&&!this._isDir(a)||c==this._TYPE.ALIGN_HOR&&!this._isHorAlign(a)||c==this._TYPE.ALIGN_VER&&!this._isVerAlign(a)||c==this._TYPE.RTYPE&&!this._isRatingType(a))?b:a},_get:function(a,b){var c=a.split(" ");RW._isArray(b)||(b=[b]);for(var d=0,e=c.length;e>d;d++)if(b=this._getSimple(c[d],b),null==b)return null;return b},_getSimple:function(a,b){var d=!1,e=[],f="*",g="",h="tag",i=!1,j=!1;RW._isArray(b)||(b=[b]);for(var k=0,l=a.length;l+1>k;k++){if(l===k)i=h,j=!0;else switch(a[k]){case"#":i=h,h="id",j=!0;break;case".":i=h,h="class",j=!0;break;default:g+=a[k],j=!1}if(j&&!g.isEmpty()){switch(i){case"id":d=g;break;case"class":e.push(g);break;case"tag":f=g}g=""}}var m=[];if(!1!==d){var n=RW._getById(d);n&&(m=[n])}else if(e.isEmpty())for(var o=0,p=b.length;p>o;o++)m=m.concat(this._getByTagName(f,b));else for(var o=0,p=b.length;p>o;o++)m=m.concat(this._getByClassName(e,f,b[o]));return 0<m.length?m:null},_getFirst:function(a,b){var c=this._get(a,b);return c&&c.length>0?c[0]:null},_getById:function(a){return doc.getElementById(a)},_getByTagName:function(a,b){return b=b||doc,b.getElementsByTagName(a)},_getFirstByTagName:function(a,b){var c=this._getByTagName(a,b);return c.length>0?c[0]:null},_getFirstByClassName:function(a,b,c){var d=this._getByClassName(a,b,c);return d.length>0?d[0]:null},_getByClassName:function(a,b,c){RW._isString(a)&&(a=[a]);for(var d=[],e=0,f=a.length;f>e;e++)a[e]=a[e].trim(),a[e].isEmpty()||d.push(a[e]);var g=c||doc,h=b||"*",i="*"==h&&g.all?g.all:g.getElementsByTagName(h);return d.isEmpty()?i:this._filterElements(i,function(a){return RW._Class.has(a,d)})},_getFirstByAttr:function(a,b,c,d,e){var f=this._getByAttr(a,b,c,d,e);return f.length>0?f[0]:null},_getByAttr:function(a,b,c,d,e){c=c||"";var f=this._getByClassName(c,d,e);return this._filterElements(f,function(c){return RW._hasAttr(c,a)&&(""===b||b==c.getAttribute(a))})},_hasAttr:function(a,b){if(a.hasAttribute)return a.hasAttribute(b);var c=a.getAttribute(b);return!(null===c||""===c)},_typeOf:function(a){var b=typeof a;if("object"==b){if(!a)return"null";if(a instanceof Array||!(a instanceof Object)&&"[object Array]"==Object.prototype.toString.call(a)||"number"==typeof a.length&&typeof a.splice!=UNDEF&&typeof a.propertyIsEnumerable!=UNDEF&&!a.propertyIsEnumerable("splice"))return"array";if(!(a instanceof Object||"[object Function]"!=Object.prototype.toString.call(a)&&(typeof a.call==UNDEF||typeof a.propertyIsEnumerable==UNDEF||a.propertyIsEnumerable("call"))))return"function"}else if("function"==b&&typeof a.call==UNDEF)return"object";return b},_isDefined:function(a){return typeof a!=UNDEF},_isNull:function(a){return null===a},_is:function(a){return null!=a},_isUndefinedOrNull:function(a){return null==a},_isString:function(a){return"string"==typeof a},_isBoolean:function(a){return"boolean"==typeof a},_isNumber:function(a){return"number"==typeof a},_isNumeric:function(a){return!isNaN(parseFloat(a))},_isRatingType:function(a){return this._isString(a)&&(a==this.TYPE.STAR||a==this.TYPE.NERO)},_isSize:function(a){return this._isString(a)&&(a==this.SIZE.SMALL||a==this.SIZE.MEDIUM||a==this.SIZE.LARGE)},_isDir:function(a){return this._isString(a)&&(a==this.DIR.LTR||a==this.DIR.RTL)},_isHorAlign:function(a){return this._isString(a)&&(a==this.ALIGN.HOR.LEFT||a==this.ALIGN.HOR.CENTER||a==this.ALIGN.HOR.RIGHT)},_isVerAlign:function(a){return this._isString(a)&&(a==this.ALIGN.VER.TOP||a==this.ALIGN.VER.MIDDLE||a==this.ALIGN.VER.BOTTOM)},_isArray:function(a){return this._is(a)&&"array"==this._typeOf(a)},_isNotEmptyArray:function(a){return this._isArray(a)&&a.length>0},_isNotEmptyString:function(a){return RW._isString(a)&&!a.isEmpty()},_isFun:function(a){return"function"==this._typeOf(a)},_error:function(a){throw console.error("ratingwidget: "+a),"ratingwidget: "+a},_guid:function(){var a=new Date;return a.getTime()},_getStyle:function(a,b){var c=undef;return RW._is(a.currentStyle)?(b=b.replace(/\-(\w)/g,function(a,b){return b.toUpperCase()}),c=a.currentStyle):window.getComputedStyle&&(c=doc.defaultView.getComputedStyle(a,null)),c!==undef?c[b]:c},_filterElements:function(a,b,c){for(var d=this._isFun(c),e=[],f=0,g=a.length;g>f;f++)b(a[f])&&(d?e.push(c(a[f])):e.push(a[f]));return e},_foreach:function(a,b){if(RW._is(a))for(var c=0,d=a.length;d>c;c++)b(a[c],c)},_isTrial:function(){return"trial"===_plan},_isFree:function(){return!_isPremium},_isPaid:function(){return _isPremium},_isProfessional:function(){return"premium"===_plan||"professional"===_plan||"business"===_plan},_isPremium:function(){return _isPremium},_isMobile:function(){return _isMobile},_showRecommendations:function(){return _showRecommendations},_showSponsoredRecommendations:function(){return _showSponsoredRecommendations},_monetizeTopRated:function(){return LOCALHOST||RW.getDomain().endsWith("pravda-tv.ru")},_invokeHook:function(pHook){if(eval("typeof("+pHook+") !== UNDEF")&&(eval("pHook = "+pHook),RW._isArray(pHook)))for(var h=0,h_len=pHook.length;h_len>h;h++)if(typeof pHook[h]!==UNDEF&&RW._isFun(pHook[h]))try{pHook[h]()}catch(err){RW._error(err)}},_sum:function(a){for(var b=0,c=0;c<a.length;c++)b+=a[c];return b},_url:function(a){return WWW+a.ltrim("/")},_tmbUrl:function(a,b,c){return WWW_TMB+"?zc=1&w="+b+"&h="+c+"&src="+encodeURIComponent(a)},_imgUrl:function(a){return WWW_IMG+a.ltrim("/")},_jsUrl:function(a){return WWW_JS+a.ltrim("/")},_cssUrl:function(a){return WWW_CSS+a.ltrim("/")},_setAttr:function(a,b,c){if(this._isString(b))a.setAttribute(b,c);else for(var d in b)a.setAttribute(d,b[d]);return a},_setVisitorID:function(a,b){b=b||!1,!this._isNumeric(a)||parseInt(a,10)<0?this._error("Invalid visitor id."):this.visitor[b?"gid":"id"]=parseInt(a,10)},iterate:function(a,b,c){if(!RW._isArray(b))return a.apply(RW._Class,[b].concat(c));for(var d,e=0,f=b.length;f>e;e++)d=a.apply(RW._Class,[b[e]].concat(c));return d},width:function(a){return a.getBoundingClientRect().width},height:function(a){return a.getBoundingClientRect().height},docOffset:function(){return{top:win.pageYOffset||docElem.scrollTop,left:win.pageXOffset||docElem.scrollLeft}},browserWidth:function(){return Math.max(this.width(body),this.width(doc.documentElement))},offset:function(a){var b=a.getBoundingClientRect(),c=this.docOffset(),d=docElem.clientTop||body.clientTop||0,e=docElem.clientLeft||body.clientLeft||0,f={top:0,left:0},g=RW._getStyle(body,"position")||"",h=RW._getStyle(docElem,"position")||"",i="absolute"===g||"fixed"===g||"relative"===g,j="absolute"===h||"fixed"===h||"relative"===h,k={top:parseFloat(RW._getStyle(body,"marginTop"))||0,left:parseFloat(RW._getStyle(body,"marginLeft"))||0},l={top:parseFloat(RW._getStyle(docElem,"marginTop"))||0,left:parseFloat(RW._getStyle(docElem,"marginLeft"))||0};return(i||j)&&(i&&(f.top+=k.top,f.left+=k.left),(i||j)&&(f.top+=l.top,f.left+=l.left)),{top:b.top+c.top-d-f.top,left:b.left+c.left-e-f.left}},hide:function(a){a.style.display="none"},show:function(a,b){b=RW._is(b)?b:!0,!1===b?RW.hide(a):a.style.display=""},remove:function(a){RW._is(a)&&a.parentNode.removeChild(a)},isVisible:function(a){if(!RW._is(a)||"none"==RW._getStyle(a,"display"))return!1;var b=a.getBoundingClientRect();return 0!==b.top||0!==b.left||0!==b.bottom||0!==b.right},getDomain:function(a){var b=(a||window.location.toString()).match(_DOMAIN_REGEX);return b&&b[1]},attachEvent:function(a,b,c){a.addEventListener?a.addEventListener(b,c,!0):a.attachEvent&&a.attachEvent("on"+b,c)},_setRecommendations:function(a){var b=RW._getByAttr("data-id",a.id,"rw-ui-recommendations");if(!b.isEmpty()){var c=new RW.TopRated.Widget(b,a);_recommendations.push(c),c.render()}},prependChild:function(a,b){return 0===a.children.length&&a.appendChild(b),RW.insertBefore(b,a.firstChild)},insertBefore:function(a,b){b.parentNode.insertBefore(a,b)},insertAfter:function(a,b){null!==b.nextSibling?b.parentNode.insertBefore(a,b.nextSibling):b.parentNode.appendChild(a)},getFirstNode:function(a){for(var b=a.firstChild;1!=b.nodeType;)b=b.nextSibling;return b},mouseOut:function(a,b){RW.attachEvent(a,"mouseout",function(c){var d=c.toElement||c.relatedTarget;RW._is(d)&&d!=this&&d.parentNode!=this&&b.apply(a,[c])})},_renderPoweredBy:function(a,b){return b=b||"Powered by",'<div class="rw-ui-poweredby">    '+b+' <a href="'+a+'" target="_blank" rel="nofollow"><em></em> <b>Rating</b><i>Widget</i></a></div>'},executeWhen:function(a,b,c){return a()?b():(setTimeout(function(){RW.executeWhen(a,b,c)},c),void 0)},isConnected:function(){return this._is(this.visitor.gid)},shouldConnect:function(){return RW.IDENTIFICATION.ACCOUNT===RW.visitor.identifyBy&&!RW.isConnected()},connectUrl:function(){return RW._url("/action/widget/visitor/signin/facebook.php?site_id="+this.site.id)},isLocalhost:function(){return LOCALHOST},elapsedTime:function(){return Math.round(((new Date).getTime()-_timestamp.getTime())/1e3)},isLocalizedNumbers:function(a){return RW._is(RWL[a].numbers)},localizeNumber:function(a,b){if(!this.isLocalizedNumbers(b))return a;var c="";a=a.toString();for(var d=0;d<a.length;d++)c+=isNaN(a[d])?a[d]:RWL[b].numbers[a[d]];return c}}}(),RW.Com=function(){var a=function(a){var b=doc.createElement("link");return b.type="text/css",b.rel="stylesheet",b.href=a,b.media="screen",b},b="",d=function(){return"callback"+RW._guid()};return RW._isNotEmptyString(window.navigator.platform)&&(b+=window.navigator.platform[0]),RW._isNotEmptyString(window.navigator.appCodeName)&&(b+=window.navigator.appCodeName[0]),RW._isNotEmptyString(window.navigator.appName)&&(b+=window.navigator.appName[0]),RW._isNotEmptyString(window.navigator.product)&&(b+=window.navigator.product[0]),RW._isNotEmptyString(window.navigator.vendor)&&(b+=window.navigator.vendor[0]),RW._isNotEmptyString(window.navigator.userAgent)&&(b+=window.navigator.userAgent[0]+window.navigator.userAgent[window.navigator.userAgent.length-1]),{toQueryString:function(a){for(var b="",c=0,d=a.length;d>c;c++)b+=(c>0?"&":"")+a[c].name+"="+a[c].value;return b},toNameValue:function(a){var b=[];for(var c in a)b.push({name:c,value:a[c]});return b},getUrl:function(a,b){return b.length>0&&(a+=a.indexOf("?")+1?"&":"?"),a+this.toQueryString(b)},asyncCss:function(b,c){if(c=RW._extandObj(c,{cycle:50,timeout:5e3,data:[],callback:null,success:null,failure:null,isLoaded:null}),null!==c.isLoaded&&c.isLoaded())return null!==c.success&&c.success(),null!==c.callback&&c.callback(),void 0;c.data.push({name:"v",value:version});var d=RW._getFirstByTagName("head"),e=a(this.getUrl(b,c.data));d.appendChild(e);var f=doc.createElement("div");if(body.appendChild(f),f.innerHTML='<i class="rw-action-loader" style="position: fixed; top: -1000px;"></i>',null!==c.isLoaded&&(null!==c.callback||null!==c.success||null!==c.failure)){var g=function(){c.timeout-=c.cycle,c.isLoaded()?(null!==c.success&&c.success(),null!==c.callback&&c.callback()):c.timeout>0?setTimeout(g,c.cycle):(console.warn("Async stylesheet include timeouted."),null!==c.failure&&c.failure(),null!==c.callback&&c.callback())};setTimeout(g,c.cycle)}},enrichRequest:function(a,c){if(a.push({name:"v",value:version}),a.push({name:"sw",value:screen.width}),a.push({name:"sh",value:screen.height}),a.push({name:"sd",value:screen.pixelDepth}),a.push({name:"uid",value:RW.site.key}),RW._is(RW.site.id)&&a.push({name:"huid",value:RW.site.id}),c)a.push({name:"fp",value:b});
else{if(RW.visitor.device.id!==EMPTY_PCID&&a.push({name:"pcid",value:RW.visitor.device.id}),a.push({name:"by",value:RW.visitor.identifyBy}),a.push({name:"et",value:RW.elapsedTime()}),RW._is(RW.visitor.id)){var d=!1;for(i=0,len=a.length;len>i;i++)if("vid"==a[i].name){d=!0;break}d||a.push({name:"vid",value:RW.visitor.id})}RW._is(RW.visitor.gid)&&a.push({name:"vgid",value:RW.visitor.gid}),RW._is(RW.site.token)&&(a.push({name:"token",value:RW.site.token.token}),a.push({name:"timestamp",value:RW.site.token.timestamp})),a.push({name:"source",value:encodeURIComponent(RW.site.type)}),a.push({name:"url",value:encodeURIComponent(RW.site.page.url)}),a.push({name:"cguid",value:RW._guid()})}},addDailyCache:function(a){var b=new Date;a.push({name:"ck",value:"Y"+b.getFullYear()+"M"+b.getMonth()+"D"+b.getDate()})},appendJS:function(a,b){var c=doc.createElement("script");c.charset="utf-8",c.src=this.getUrl(a,b);var d=RW._getFirstByClassName("rw-js-container","div");null===d&&(d=RW._getFirstByTagName("head")),d.appendChild(c)},asyncJS:function(a,b){b=RW._extandObj(b,{data:[],isStatic:!1,dailyCache:!1}),this.enrichRequest(b.data,b.isStatic),b.dailyCache&&this.addDailyCache(b.data),this.appendJS(a,b.data)},jsonp:function(a,b){if(b=RW._extandObj(b,{data:[],isStatic:!1,dailyCache:!1,callback:null,success:null,failure:null}),null!=b.callback){var c=d();RW.Com[c]=function(){b.callback.apply(this,arguments),setTimeout(function(){delete RW.Com[c]},50)},b.data.push({name:"callback",value:"RW.Com."+c})}this.enrichRequest(b.data,b.isStatic),b.dailyCache&&this.addDailyCache(b.data),this.appendJS(a,b.data)}}}(),RW.JSON=function(){var c,d,b=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,e={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},g=function(a){return b.lastIndex=0,b.test(a)?'"'+a.replace(b,function(a){var b=e[a];return"string"==typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'},h=function(a,b){var e,f,i,j,l,k=c,m=b[a];switch(typeof m){case"string":return g(m);case"number":return isFinite(m)?String(m):"null";case"boolean":case"null":return String(m);case"object":if(!m)return"null";if(c+=d,l=[],"[object Array]"===Object.prototype.toString.apply(m)){for(j=m.length,e=0;j>e;e+=1)l[e]=h(e,m)||"null";return i=0===l.length?"[]":c?"[\n"+c+l.join(",\n"+c)+"\n"+k+"]":"["+l.join(",")+"]",c=k,i}for(f in m)Object.hasOwnProperty.call(m,f)&&(i=h(f,m),i&&l.push(g(f)+(c?": ":":")+i));return i=0===l.length?"{}":c?"{\n"+c+l.join(",\n"+c)+"\n"+k+"}":"{"+l.join(",")+"}",c=k,i}};return{stringify:function(a){return h("",{"":a})}}}(),RW.Cookie=function(a,b){var c,d=new Date,e="; path=/"+(RW._isString(a)?"; domain="+a:"");d.setTime(d.getTime()+63072e6);var f="; expires="+d.toGMTString(),g="; expires=Thu, 01 Jan 1970 00:00:01 GMT",h=function(){var b,c,d,e,g,a={},f=document.cookie.split(";");for(b=0;b<f.length;b+=1){c=f[b].split("="),d=c[0].replace(/^\s*/,"").replace(/\s*$/,"");try{e=decodeURIComponent(c[1])}catch(h){e=c[1]}try{g=e,e=JSON.parse(e)}catch(i){e=g}a[d]=e}return a},i=function(a,c){var d=h();return d[a]!==b?d[a]:c},j=function(a,b){document.cookie=a+"="+encodeURIComponent(RW._isString(b)?b:JSON.stringify(b))+e+f},k=function(a){document.cookie=a+"="+e+g};return{test:function(){if(b===c){var a="test",d="data";j(a,d),d!==i(a)?c=!1:(k(a),c=!0)}return c},get:function(a,b){return this.test()?i(a,b):b},set:function(a,b){this.test()&&j(a,b)},del:function(a){this.test()&&k(a)},contains:function(a){if(!this.test())return!1;var c=h();return c[a]!==b}}};var hasStorage=function(){try{return localStorage.setItem("t","t"),localStorage.removeItem("t"),!0}catch(a){return!1}}();undef!==hasStorage?RW.Storage=function(){return{get:function(a,b){if(null==localStorage.getItem(a))return b;try{return JSON.parse(localStorage.getItem(a))}catch(c){return this.removeItem(a),b}},set:function(a,b){localStorage.setItem(a,JSON.stringify(b))},del:function(a){localStorage.removeItem(a)},contains:function(a){return null!==localStorage.getItem(a)}}}():(RW.Storage=new RW.Cookie,RW.Storage.test()||(RW.Storage=function(a){var b={};return{get:function(a,c){return this.contains(a)?b[a]:c},set:function(a,c){b[a]=c},del:function(a){delete b[a]},contains:function(c){return a!==b[c]}}}())),RW.Ads=function(a,b){if(RW.Ads.prototype._singletonInstance)return RW.Ads.prototype._singletonInstance;RW.Ads.prototype._singletonInstance=this;var h,c=this,d=new RW.Cookie(DOMAIN),e="ads",f="rw-ads-pages",g=RW._extandObj(a,{width:468,height:60,html:"",tag:""}),i=!0,j=function(){h=b};c.stopCaching=function(){i=!1},c.get=function(){return b!==h&&i||(h=g.tag.isEmpty()?!1:RW._isPremium()?!1:this.isShowOnPage()?g:!1),h},c.isShowOnPage=function(){for(var a=RW.Storage.get(f,[]),b=RW.site.page.url.toLowerCase(),c=0,d=a.length;d>c;c++)if(a[c]===b)return!1;return!0},c.setHideOnPage=function(){var a=RW.Storage.get(f,[]);a.push(RW.site.page.url.toLowerCase()),RW.Storage.set(f,a),j()},c.setShowOnPage=function(){for(var a=RW.Storage.get(f,[]),b=RW.site.page.url.toLowerCase(),c=[],d=0,e=a.length;e>d;d++)a[d]!==b&&c.push(a[d]);RW.Storage.set(f,c),j()},c.toggleShowOnPage=function(a){return b===a&&(a=!c.isShowOnPage()),a?c.setShowOnPage():c.setHideOnPage(),a},c.isOptIn=function(){return d.get(e,!0)},c.optOut=function(){d.set(e,!1)},c.optIn=function(){d.set(e,!0)}},RW.Rec=function(a,b){if(RW.Rec.prototype._singletonInstance)return RW.Rec.prototype._singletonInstance;RW.Rec.prototype._singletonInstance=this;var d,c=this,e=!1,i=function(a){if(!RW._is(d)||!RW._isArray(d.recs)||0===d.recs.length)return!1;if(a>=d.recs.length)return d.recs;if(!RW.Storage.contains("sponsored_clicks"))return d.recs.slice(0,a);for(var b=RW.Storage.get("sponsored_clicks"),c=[],e=0,f=d.recs.length;f>e;e++)!0!==b[d.recs[e].id]&&c.push(d.recs[e]);for(var e=0,f=d.recs.length;f>e;e++)!0===b[d.recs[e].id]&&c.push(d.recs[e]);return c.slice(0,a)},j=function(){return b!==d&&!e},k=function(a){if(!RW._is(a)||!RW._isArray(a.recs)||a.recs.isEmpty())return a;for(var b=0;b<a.recs.length;b++)a.recs[b].domain=RW.getDomain(a.recs[b].url)},l=function(a){var b=[];return RW._foreach(a,function(a){b.push({site:{id:a.partner_id,domain:a.domain,category:a.category_id},page:{externalID:Math.abs(a.id||a.postId),url:a.url,trackUrl:a.clickUrl,title:a.title,description:a.description,img:RW._tmbUrl(RW._isNotEmptyString(a.thumbnail_path)?a.thumbnail_path:a.url,50,40),sponsored:!0}})}),b},m=function(){var a=RW.getTopRatedWidgets(),b=l(c.get(3));RW._foreach(b,function(a){a.page.sponsored=!0}),RW._foreach(a,function(a){a.addItems({itemGroups:[{type:"posts",items:b}]})})};c.preload=function(){if(j())return!0;if(e)return!1;if(RW._showSponsoredRecommendations()||RW._monetizeTopRated()){e=!0;var a=!RW._monetizeTopRated()||LOCALHOST?29538:42821,b=!RW._monetizeTopRated()||LOCALHOST?33518:46896;RW.Com.jsonp("http://api.grazeit.com:8080/rec-api/getrecs.json",{isStatic:!0,data:[{name:"cb",value:encodeURIComponent("RW.Rec()._sponsoredCallback")},{name:"pubid",value:84869},{name:"webid",value:b},{name:"wid",value:a},{name:"recsnum",value:3},{name:"url",value:encodeURIComponent(RW.site.page.url)},{name:"cguid",value:RW._guid()}]})}else d=!1;return!1},c.get=function(a){return limt=a||1,i(a)},c.count=function(){return j()?!1!==d&&RW._isArray(d.recs)?d.recs.length:0:0},c.set=function(a){d=a,k(d)},c.append=function(a){return RW._is(d)&&RW._isArray(d.recs)?(RW._is(a)&&RW._isArray(a.recs)&&0<a.recs.length&&(k(a),d.recs=d.recs.concat(a.recs)),void 0):(c.set(a),void 0)},c.clicked=function(a){var b=RW.Storage.get("sponsored_clicks",{});b[a]=!0,RW.Storage.set("sponsored_clicks",b)},c._sponsoredCallback=function(a){c.set(a),e=!1,0<c.count()&&RW._monetizeTopRated()&&m()}},RW._Set=function(){var a=function(a){return a=RW._def(a,{}),a.imgUrl=RW._def(a.imgUrl,{}),a.mobile=RW._def(a.mobile,{}),a.boost=RW._def(a.boost,{}),a.label=RW._def(a.label,{}),a.label.text=RW._def(a.label.text,{}),a.label.text.star=RW._def(a.label.text.star,{}),a.label.text.nero=RW._def(a.label.text.nero,{}),a.advanced=RW._def(a.advanced,{}),a.advanced.star=RW._def(a.advanced.star,{}),a.advanced.nero=RW._def(a.advanced.nero,{}),a.advanced.nero.text=RW._def(a.advanced.nero.text,{}),a.advanced.nero.text.like=RW._def(a.advanced.nero.text.like,{}),a.advanced.nero.text.dislike=RW._def(a.advanced.nero.text.dislike,{}),a.advanced.font=RW._def(a.advanced.font,{}),a.advanced.font.hover=RW._def(a.advanced.font.hover,{}),a.advanced.layout=RW._def(a.advanced.layout,{}),a.advanced.layout.align=RW._def(a.advanced.layout.align,{}),a.advanced.text=RW._def(a.advanced.text,{}),a.advanced.css=RW._def(a.advanced.css,{}),a},b=function(a){if(RW._is(a)&&RW._is(a.lng)){var b=a.lng,c=a.advanced.layout;c.dir=RW._def(c.dir,RWL[b].dir),c.align.hor=RW._def(c.align.hor,RWL[b].align.hor);for(var d in RW._defaultOptions.advanced.text)a.advanced.text[d]=RW._def(a.advanced.text[d],RWL[b].text[d],RW._TYPE.STRING,DUMMY_STR)}},c=function(a){if(RW._is(a)&&RW._is(a.size)){var b=a.size.toUpperCase(),c=a.advanced;c.font.size=RW._def(c.font.size,RW._DEF_FONT_SIZE[b]),c.layout.lineHeight=RW._def(c.layout.lineHeight,RW._DEF_LINE_HEIGHT[b])}},d=function(a){for(var b="#",c=1,d=a.length;d>c;c++)b+=a[c]+a[c];return b};return{merge:function(d,e){if(RW._isNotEmptyArray(d)){for(var f=RW._cloneObj(d[0]),g=1,h=d.length;h>g;g++)f=RW._extandObj(f,d[g]);return a(f),c(f),b(f),f=RW._extandObj(f,e)}},getOption:function(a,b,c){for(var d=0,e=a.length;e>d;d++)if(RW._is(a[d])&&RW._isNotEmptyString(a[d][b]))return a[d][b];return c},enrichedCopy:function(e,f){e=a(e),c(e),b(e);var g=a(),h=g.advanced,i=e.advanced,j=f.advanced,k=h.layout,l=h.font,m=i.font,n=j.font,o=h.text,p=i.text,q=j.text;g.afterRate=RW._def(e.afterRate,f.afterRate),g.beforeRate=RW._def(e.beforeRate,f.beforeRate),g.uarid=RW._def(e.uarid,f.uarid,RW._TYPE.NUM),g.lng=RW._def(e.lng,f.lng,RW._TYPE.STRING),g.url=RW._def(e.url,f.url,RW._TYPE.STRING),g.img=RW._def(e.img,f.img,RW._TYPE.STRING),g.title=RW._def(e.title,f.title,RW._TYPE.STRING),g.type=RW._def(e.type,f.type,RW._TYPE.RTYPE),g.rclass=RW._def(e.rclass,f.rclass,RW._TYPE.STRING),g.size=RW._def(e.size,f.size,RW._TYPE.SIZE),g.theme=RW._def(e.theme,f.theme,RW._TYPE.STRING),g.style=RW._def(e.style,f.style,RW._TYPE.STRING),g.readOnly=RW._def(e.readOnly,f.readOnly,RW._TYPE.BOOL),g.sync=RW._def(e.sync,f.sync,RW._TYPE.BOOL),g.reVote=RW._def(e.reVote,f.reVote,RW._TYPE.BOOL),g.frequency=RW._def(e.frequency,f.frequency,RW._TYPE.NUM),g.showInfo=RW._def(e.showInfo,f.showInfo,RW._TYPE.BOOL),g.showTooltip=RW._def(e.showTooltip,f.showTooltip,RW._TYPE.BOOL),g.showAverage=RW._def(e.showAverage,f.showAverage,RW._TYPE.BOOL),g.showReport=RW._def(e.showReport,f.showReport,RW._TYPE.BOOL),g.showLoader=RW._def(e.showLoader,f.showLoader,RW._TYPE.BOOL),g.showRecommendations=RW._def(e.showRecommendations,f.showRecommendations,RW._TYPE.BOOL),g.hideRecommendations=RW._def(e.hideRecommendations,f.hideRecommendations,RW._TYPE.BOOL),g.showSponsored=RW._def(e.showSponsored,f.showSponsored,RW._TYPE.BOOL),RW._isString(e.imgUrl)&&(e.imgUrl={ltr:e.imgUrl,rtl:e.imgUrl}),g.imgUrl.ltr=RW._def(e.imgUrl.ltr,f.imgUrl.ltr,RW._TYPE.STRING),g.imgUrl.rtl=RW._def(e.imgUrl.rtl,f.imgUrl.rtl,RW._TYPE.STRING),g.mobile.optimized=RW._def(e.mobile.optimized,f.mobile.optimized,RW._TYPE.BOOL),g.mobile.showTrigger=RW._def(e.mobile.showTrigger,f.mobile.showTrigger,RW._TYPE.BOOL),g.boost.votes=RW._def(e.boost.votes,f.boost.votes,RW._TYPE.NUM),g.boost.rate=RW._def(e.boost.rate,f.boost.rate,RW._TYPE.NUM),g.boost.votes<0&&(g.boost.votes=0),g.label.background=RW._def(e.label.background,f.label.background,RW._TYPE.STRING),g.label.text.star.empty=RW._def(e.label.text.star.empty,f.label.text.star.empty,RW._TYPE.STRING),g.label.text.star.normal=RW._def(e.label.text.star.normal,f.label.text.star.normal,RW._TYPE.STRING),g.label.text.star.rated=RW._def(e.label.text.star.rated,f.label.text.star.rated,RW._TYPE.STRING),g.label.text.nero.empty=RW._def(e.label.text.nero.empty,f.label.text.nero.empty,RW._TYPE.STRING),g.label.text.nero.normal=RW._def(e.label.text.nero.normal,f.label.text.nero.normal,RW._TYPE.STRING),g.label.text.nero.rated=RW._def(e.label.text.nero.rated,f.label.text.nero.rated,RW._TYPE.STRING),h.star.stars=RW._def(i.star.stars,j.star.stars,RW._TYPE.NUM),h.nero.showDislike=RW._def(i.nero.showDislike,j.nero.showDislike,RW._TYPE.BOOL),h.nero.showLike=RW._def(i.nero.showLike,j.nero.showLike,RW._TYPE.BOOL),h.nero.text.like.empty=RW._def(i.nero.text.like.empty,j.nero.text.like.empty,RW._TYPE.STRING),h.nero.text.like.rated=RW._def(i.nero.text.like.rated,j.nero.text.like.rated,RW._TYPE.STRING),h.nero.text.dislike.empty=RW._def(i.nero.text.dislike.empty,j.nero.text.dislike.empty,RW._TYPE.STRING),h.nero.text.dislike.rated=RW._def(i.nero.text.dislike.rated,j.nero.text.dislike.rated,RW._TYPE.STRING),l.bold=RW._def(m.bold,n.bold,RW._TYPE.BOOL),l.italic=RW._def(m.italic,n.italic,RW._TYPE.BOOL),l.color=RW._def(m.color,n.color,RW._TYPE.STRING),l.type=RW._def(m.type,n.type,RW._TYPE.STRING),l.size=RW._def(m.size,n.size,RW._TYPE.STRING),l.hover.color=RW._def(m.hover.color,n.hover.color,RW._TYPE.STRING),g.label.background.startsWith("#")&&4==g.label.background.length&&(g.label.background=d(g.label.background)),l.color.startsWith("#")&&4==l.color.length&&(l.color=d(l.color)),l.hover.color.startsWith("#")&&4==l.hover.color.length&&(l.hover.color=d(l.hover.color)),k.dir=RW._def(i.layout.dir,j.layout.dir,RW._TYPE.DIR),k.align.hor=RW._def(i.layout.align.hor,j.layout.align.hor,RW._TYPE.ALIGN_HOR),k.align.ver=RW._def(i.layout.align.ver,j.layout.align.ver,RW._TYPE.ALIGN_VER),k.lineHeight=RW._def(i.layout.lineHeight,j.layout.lineHeight,RW._TYPE.STRING);for(var r in q)o[r]=RW._def(p[r],q[r],RW._TYPE.STRING);return h.css.container=RW._def(e.advanced.css.container,f.advanced.css.container,RW._TYPE.STRING),g}}}(),RW._Class=function(){var a=[],b=function(b){return b=b.trim(),RW._isUndefinedOrNull(a[b])&&(a[b]=new RegExp("(\\s|^)"+b+"(\\s|$)")),a[b]},c={_set:function(a,b){RW._is(a)&&(a.className=b)},set:function(a,b){RW.iterate(c._set,a,[b])},_clear:function(a){c.set(a,"")},clear:function(a,b){RW.iterate(c._clear,a,[b])},_has:function(a,c){if(!RW._is(a)||!RW._is(c))return!1;RW._isString(c)&&(c=[c]);for(var d,e=0,f=c.length;f>e;e++)if(d=c[e].trim(),!d.isEmpty()&&!b(d).test(a.className))return!1;return!0},has:function(a,b){return RW.iterate(c._has,a,[b])},_add:function(a,b,d){if(RW._is(a)){RW._isString(b)&&(b=[b]);var e;RW._is(d)||(d="");for(var f=0,g=b.length;g>f;f++)e=b[f].trim(),e.isEmpty()||(e=d+e,c.has(a,e)||(a.className+=(a.className.isEmpty()?"":" ")+e,a.className.trim()))}},add:function(a,b,d){RW.iterate(c._add,a,[b,d])},_remove:function(a,d){c.has(a,d)&&(a.className=a.className.replace(b(d)," ").trim())},remove:function(a,b){RW.iterate(c._remove,a,[b])},_toggle:function(a,b,d){!1===d||!0!==d&&c.has(a,b)?c.remove(a,b):c.add(a,b)},toggle:function(a,b,d){RW.iterate(c._toggle,a,[b,d])},_replace:function(a,b,d){c.has(a,b)&&(c.remove(a,b),c.add(a,d))},replace:function(a,b,d){RW.iterate(c._replace,a,[b,d])},_override:function(a,b,d){c.remove(a,b),c.add(a,d)},override:function(a,b,d){RW.iterate(c._override,a,[b,d])}};return c}(),RW.Svg=function(){return{createElement:function(a){return doc.createElementNS(svgXmlns,a)},move:function(a){return"M"+a.x+","+a.y},line:function(a){return"L"+a.x+","+a.y},arc:function(a,b,c,d,e){return undef===e&&(e=0),undef===c&&(c=!1),undef===d&&(d=!0),"A"+a.x+","+a.y+" "+e+" "+(c?"1":"0")+","+(d?"1":"0")+" "+b.x+","+b.y},circleArc:function(a,b,c,d,e){return this.arc({x:a,y:a},b,c,d,e)},getRadialPos:function(a,b,c){return{x:a.x+b*Math.cos(Math.PI*c/180),y:a.y+b*Math.sin(Math.PI*c/180)}},getArcPath:function(a,b,c,d,e){var f=(d-c)%360>180,g=RW.Svg.move(this.getRadialPos(a,e,c))+" "+RW.Svg.line(this.getRadialPos(a,b,c))+" "+RW.Svg.circleArc(b,this.getRadialPos(a,b,d),f)+" "+RW.Svg.line(this.getRadialPos(a,e,d))+" "+RW.Svg.circleArc(e,this.getRadialPos(a,e,c),f,!1)+" "+"z",h=this.createElement("path");return RW._setAttr(h,{d:g}),h}}}(),RW.Rating=function(a,b,c){var k,d=this,e=RW._getByAttr("data-urid",a,"rw-ui-container"),f=[],h="ready",i=!0,l=c,m=RW.getDefaultOptions(),n=RW.getGlobalOptions();d.huid=b.huid,d.uid=b.uid,d.urid=a,d.turid=null,d.rid=null,d.rate=null,d.votes=null,d.votesData=null,d.isRated=!1,d.lastVote=null,d.lastVoteRate=null,d.report=null,d.options=l,d.title="",d.img="",d.url="",d.rclass="",d.type=RW.TYPE.STAR;var o=function(){var b,c,d,e,g,h,i,a={lng:{},star:{theme:{},style:{}},nero:{theme:{},style:{}}};return RW._foreach(f,function(f){b=f.getClassOptions(),h=[f.options,b,n,m],i=[f.options,b,n],c=RW._Set.getOption(i,"lng",!1),!1!==c&&(a.lng[c]=!0),d=RW._Set.getOption(h,"type"),size=RW._Set.getOption(h,"size"),e=RW._Set.getOption(h,"style",!1),!1===e||RW.CUSTOM!==e.toLowerCase()||RW._isTrial()||RW._isProfessional()||(e=RW._DEF_STYLES[d.toUpperCase()],console.warn("Custom ratings image is not supported in your plan. Please upgrade to Professional (http://rating-widget.com/pricing/).")),!1!==e&&(RW._is(a[d].style[size])||(a[d].style[size]={}),a[d].style[size][e]=!0),g=RW._Set.getOption(h,"theme",!1),!1!==g&&(RW._is(a[d].theme[size])||(a[d].theme[size]={}),a[d].theme[size][g]=!0===a[d].theme[size][g]||!1===e),!1===e&&(RW._is(a[d].style[size])||(a[d].style[size]={}),a[d].style[size][RW._DEF_STYLES[d.toUpperCase()]]=!0)}),a},p=function(){return d.type[0]+"-"+(RW._isNotEmptyString(d.title)?"1":"0")+"-"+(RW._isNotEmptyString(d.rclass)?"1":"0")+"-"+(RW._isNotEmptyString(d.url)?"1":"0")+(RW._isNotEmptyString(d.img)?"-"+d.img.length:"")};d.distroy=function(){RW._foreach(e,function(a){RW.remove(a)}),f=null},d.initData=function(a){d.urid=a.urid,d.rid=a.rid,d.rate=parseFloat(a.rate),d.votes=Math.max(0,parseInt(a.votes,10)),d.rate=Math.max(0,Math.min(RW.MAX*a.votes,a.rate)),d.votesData=RW._isArray(a.votesData)?a.votesData:[],d.isRated=d.votesData.length>0,d.lastVote=d.isRated?d.votesData[0]:null,d.lastVoteRate=d.isRated?d.lastVote.rate:0,d.report=null,k=a.hash},d.getRequiredResources=function(){return o()},d.render=function(){for(var a=["title","img","url","rclass","type"],b=0,c=a.length;c>b;b++)d[a[b]]="";RW._foreach(f,function(b){b.render();for(var c=0,e=a.length;e>c;c++)""==d[a[c]]&&RW._isNotEmptyString(b.options[a[c]])&&(d[a[c]]=b.options[a[c]])}),d.url.isEmpty()&&(d.url=RW.site.page.url)},d.hideTooltip=function(){RW._is(RW._tooltip)&&(RW._tooltip.style.display="none")},d.hideReport=function(){RW.RatingReport.close(!0)},d.isSynced=function(){return k==p()},d.canRefresh=function(){return i},d.refresh=function(){RW._foreach(f,function(a){a.refresh()})},d.getOption=function(a,b){return undef===b&&(b=0),d.getInstances(b).options[a]},d.getInstances=function(a){return RW._isNumeric(a)?f[a]:f},d.getFirstInstance=function(){return d.getInstances(0)},d.getBoostedValues=function(){return d.getFirstInstance().getBoostedValues()},d.getState=function(){return h},d.setState=function(a){h=a},d.setReady=function(){d.setState("ready")},d.setCalling=function(){d.setState("calling")},d.voteBegin=function(){d.setCalling(),i=!1},d.voteEnd=function(){d.setReady(),i=!0},d.addReportVotes=function(a,b){for(var c=!1,e=0,f=d.report.length;f>e;e++)if(a===d.report[e].rate){d.report[e].votes+=b,c=!0;break}c||d.report.push({rate:a,votes:b})};var q=function(a,b){return undef===b&&(b=0),l&&l[a]?l[a]:f[b]&&f[b].options&&f[b].options[a]?f[b].options[a]:null};d.afterRate=function(){return q("afterRate")},d.beforeRate=function(){return q("beforeRate")},d.voteCompleted=function(a,b,c,e){var g=!d.isRated;if(e=RW._def(e,!1),a){var h=d.votes,i=d.lastVoteRate;if(d.rate=parseFloat(b.rate),d.votes=Math.max(0,parseInt(b.votes,10)),d.rate=Math.max(0,Math.min(RW.MAX*d.votes,d.rate)),d.votesData=b.votesData,d.lastVote=d.votesData[0],d.lastVoteRate=d.lastVote.rate,RW._isNull(d.report)||(d.addReportVotes(d.lastVoteRate,1),h==d.votes&&d.addReportVotes(i,-1)),d.isRated=!0,undef!==b.accumulator){var j=RW.getRating(b.accumulator.urid);RW._is(j)&&(b.accumulator.votesData=b.votesData,j.voteCompleted(a,b.accumulator,c,!0))}}if(!e){var k=d.afterRate();k&&k(a,d.getFirstInstance().isThumb()?d.lastVoteRate===RW.LIKE_RATE:d.lastVoteRate,d,g,c)}d.voteEnd(),d.refresh(),a&&!e&&f[b.riid].showReport()},RW._foreach(e,function(a,b){f.push(new RW.RatingInstance(a,d,b))})},RW.RatingInstance=function(a,b,c){var e,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,D,d=this,f=null,g=RW.PREFIX+"-",h=g,i=d.rating=b,j=a,C=RW.getDefaultOptions(),E=function(b){return e=RW._extandObj(M(a),b)},F=function(){return'<img src="'+RW._imgUrl("widget/loader-14x14.gif")+'" alt="" style="border: none; width: 14px; height: 14px" />'},G=function(){D=RW.getGlobalOptions(),B=a.getAttribute("style"),""===a.style.display&&(a.style.display="inline-table");var b=!0;undef!==e&&undef!==e.showLoader?b=e.showLoader:undef!==D&&undef!==D.showLoader?b=D.showLoader:undef!==C&&undef!==C.showLoader&&(b=C.showLoader),a.innerHTML=b?F():""},H=function(a){for(var b=a.toLowerCase().split("-"),c=b[0],d=1,e=b.length;e>d;d++)c+=b[d].ucfirst();return c},I=function(a){if(!RW._isString(a))return a;switch(a){case"false":return!1;case"true":return!0;default:return a}},J=function(a){for(var b={},c=/^data\-(.+)$/,d=0,e=a.attributes.length;e>d;d++)c.test(a.attributes[d].nodeName)&&(b[H(a.attributes[d].nodeName.match(c)[1])]=I(a.attributes[d].value));return b},K=function(a){for(var d,b=["class","uarid","size","lng","theme","style","readOnly","valign","halign"],c={advanced:{layout:{align:{}}}},f=0,g=b.length;g>f;f++)if(d=RW._parseClassProperty(a,b[f],!1),!1!==d)switch(d=I(d),b[f]){case"class":c.rclass=d;break;case"valign":c.advanced.layout.align.ver=d;break;case"halign":c.advanced.layout.align.hor=d;break;default:c[b[f]]=d}return RW._Class.has(a,"rw-ui-star")&&(c.type="star"),RW._Class.has(a,"rw-ui-nero")&&(c.type="nero"),c},L=function(a){for(var e,f,g,h,i,b={},c="rw-prop-",d=RW._is(a.className)?a.className.split(" "):[],j=0,k=d.length;k>j;j++)d[j].startsWith(c)&&(e=d[j].substring(c.length),f=e.indexOf("-"),i=e.substring(0,f),g=e.substring(f+1),h=g.toLowerCase(),b[i]="true"===h?!0:"false"===h?!1:g);return RW._extandObj(b,K(a))},M=function(a){return RW._extandObj(J(a),L(a))},N=function(){r.star.stars=Math.max(RW.MIN_STARS,Math.min(RW.MAX_STARS,r.star.stars)),d.isStar()&&(p.boost.rate=Math.max(1,Math.min(r.star.stars,p.boost.rate)))},O=function(){p=e,r=q=p.advanced,t=s=q.font,u=s.hover,w=v=q.text,x=p.label,y=q.layout,z=y.align,A=p.type},P=function(){d.options=p,d.type=A,d.advanced=r,d.align=z,d.text=w},Q=function(){e=d.getCalculatedOptions(),O(),N(),P()},R=function(a){return RW._getFirstByClassName("rw-ui-"+a+"-icon","i",j)},U=function(a){return RW._getFirstByClassName("rw-ui-"+a+"-label","span",j)},V=function(){return U("like")},W=function(){return U("dislike")},X=function(){return RW._getFirstByTagName("div",j)},Y=function(){return p.showReport&&p.showAverage},Z=function(){if(Y()){var a=RW._getFirstByClassName("rw-ui-info-container","span",j);RW._is(a)&&(a.onmouseover=function(){d.isReady()&&RW.RatingReport.open(d,a)},RW.mouseOut(a,function(){d.isReady()&&RW.RatingReport.close()}))}},$=function(){d.isActive()&&i.canRefresh()&&!RW._is(f)&&(f=setTimeout(function(){d.refresh()},200))},_=function(a){return r.star.stars>RW.MAX?d.localizeNumber(a+1)+" / "+d.localizeNumber(r.star.stars):w[RW._TEXT_MAP.STAR[a]]},ab=function(){var a=n;RW._foreach(a,function(a,b){a.onmouseover=function(){if(d.isActiveAndReady()){clearTimeout(f),f=null;for(var e=i.isRated?i.lastVoteRate-1:-1,g=0,h=n.length;h>g;g++)b>=g?RW._Class.set(n[g],"rw-ui-star-"+g+" rw-ui-star-over"):RW._Class.set(n[g],"rw-ui-star-"+g+" rw-ui-star-"+(g>e?"preview":"selected"));d.setTooltip(_(b))&&zb(a)}},a.onmouseout=$,a.onclick=function(c){c=c||window.event,c.preventDefault(),d.isActiveAndReady()&&d.doRate(b+1,a,c)}}),rb()&&(o.onchange=function(a){"Powered By"===o.options[o.selectedIndex].parentNode.label?window.location=WWW+"?type=star&device=mobile":n[n.length-1-o.selectedIndex].onclick(a)})},bb=function(a,b){d.isActiveAndReady()&&(clearTimeout(f),f=null,d.setTooltip(w[b])&&zb(a))},cb=function(a,b,c,e){d.isActiveAndReady()&&(RW._Class.add(a.parentNode,"rw-selected"),RW._is(b)&&RW._Class.remove(b.parentNode,"rw-selected"),c(a,e))},db=function(a,b){if(gb(a)){var c=R(a),e=R(b),f=c;f.onclick=function(b){b=b||window.event,b.preventDefault(),cb(c,e,d[a],b)},f.onmouseover=function(){bb(c,a)},f.onmouseout=$}},eb=function(){db("like","dislike"),db("dislike","like"),rb()&&(o.onchange=function(a){"Powered By"===o.options[o.selectedIndex].parentNode.label?window.location=WWW+"?type=star&device=mobile":R(o.options[o.selectedIndex].value).onclick(a)})},fb=function(){Z(),j.onmouseover=function(){d.isReady()&&(d.setLabelColor(u.color),d.setLabelBorderColor(t.color))},j.onmouseout=function(){d.isReady()&&(d.setLabelColor(t.color),d.setLabelBorderColor(RW.Color.toRgba(t.color,.5)))},d.isStar()?ab():d.isThumb()&&eb()},gb=function(a){return r.nero["show"+a[0].toUpperCase()+a.substring(1)]},hb=function(a){return i[a+"s"]+(RW[a.toUpperCase()+"_RATE"]==p.boost.rate?p.boost.votes:0)},ib=function(){for(var a=d.getBoostedValues(),b=a.votes>0?Math.round(2*(a.rate/a.votes)):0,c=(b-b%2)/2,e=0;c>e;e++)RW._Class.set(n[e],"rw-ui-star-"+e+" rw-ui-star-selected");1==b%2&&(RW._Class.set(n[c],"rw-ui-star-"+c+" rw-ui-star-half-selected"),c++);for(var f=c;f<r.star.stars;f++)RW._Class.set(n[f],"rw-ui-star-"+f)},jb=function(){var a=["like","dislike"];if(RW._foreach(a,function(a){gb(a)&&(U(a).innerHTML=d.formatLabel(r.nero.text[a][i.isRated?"rated":"empty"]))}),i.isRated){a=i.lastVoteRate>0?a:a.reverse();var b=a[0],c=a[1];gb(b)&&RW._Class.add(R(b).parentNode,"rw-selected"),gb(c)&&RW._Class.remove(R(c).parentNode,"rw-selected")}},kb=function(){return t.color===RW._defaultOptions.advanced.font.color?"":"color: "+t.color+";"},lb=function(){return t.type===RW._defaultOptions.advanced.font.type?"":"font-family: "+t.type+";"},mb=function(){return t.size===RW._DEF_FONT_SIZE[p.size.toUpperCase()]?"":"font-size: "+t.size+";"},nb=function(){return y.lineHeight===RW._DEF_LINE_HEIGHT[p.size.toUpperCase()]?"":"line-height: "+y.lineHeight+";"},ob=function(){return RW._url("my-rating-report/"+A+"/"+p.style.replace(/\_/g,"-")+"/rating-"+i.rid+(d.isStar()?"-"+r.star.stars:"")+"/")},pb=function(){return'<a class="rw-report-link" target="_blank"'+(p.showReport?"":' title="Rating-Widget Report"')+' href="'+ob()+'" rel="nofollow"></a>'},qb=function(){return p.showInfo?'<span class="rw-ui-info-container">'+d.renderNub()+'<span class="rw-ui-info-inner-container">'+'<span class="rw-ui-info" style="'+kb()+lb()+mb()+nb()+'"></span></span></span>':""},rb=function(){return RW._isMobile()&&!p.readOnly&&p.mobile.optimized},sb=function(){var a="";rb()&&(a+=d.renderMobileDropdown()),a+='<ul class="rw-ui-stars">';for(var b="",c=0,e=r.star.stars;e>c;c++)a+='<li class="rw-ui-star-'+c+'">'+b+"</li>";return a+"</ul>"},tb=function(){return'<div class="rw-action-area">'+sb()+(RW._isPremium()?"":pb())+"</div>"},ub=function(){j.innerHTML=z.ver==RW.ALIGN.VER.TOP?qb()+tb():tb()+qb(),n=RW._getByTagName("li",j)},vb=function(a){var b=a?"like":"dislike",c="";return'<span class="rw-ui-'+b+'"><i class="rw-ui-'+b+'-icon">'+c+'</i><span class="rw-ui-'+b+'-label" style="'+lb()+mb()+nb()+'"></span></span>'},wb=function(){var a='<div class="rw-action-area">';if(rb()){var b=d.isActive()?"":' disabled="disabled"',c=i.isRated?i.lastVoteRate:-1;a+='<div class="rw-mobile-action-area"><select class="rw-ui-mobile-stars"><optgroup label="'+w.rateThis+'">',r.nero.showLike&&(a+="<option"+(5==c?' selected="selected"':b)+' value="like">'+w.like+"</option>"),r.nero.showDislike&&(a+="<option"+(5!=c?' selected="selected"':b)+' value="dislike">'+w.dislike+"</option>"),a+="</optgroup>"+(RW._isPremium()?"":'<optgroup label="Powered By"><option><a href="'+WWW+'" target="_blank">RatingWidget.com</a></option></optgroup>')+"</select></div>"}r.nero.showLike&&(a+=vb(!0)),r.nero.showDislike&&(a+=vb(!1)),RW._isPremium()||(a+=pb()),a+="</div>",j.innerHTML=z.ver==RW.ALIGN.VER.TOP?qb()+a:a+qb()},xb=function(){RW._Class.set(j,h+"ui-container "+h+"urid-"+i.urid+" "+h+"ui-"+A+" "+h+"size-"+p.size+" "+h+"dir-"+(y.dir==RW.DIR.RTL?RW.DIR.RTL:RW.DIR.LTR)+" "+h+"halign-"+z.hor+" "+h+"valign-"+z.ver+" "+h+"style-"+p.style),null==p.theme||p.theme.isEmpty()||RW._Class.add(j,"theme-"+p.theme,h),p.readOnly||RW._Class.add(j,"active",h),t.bold&&RW._Class.add(j,"bold",h),t.italic&&RW._Class.add(j,"italic",h),p.rclass.trim().isEmpty()||RW._Class.add(j,"class-"+p.rclass,h),RW.visitor.mobile&&RW._Class.add(j,"mobile",h)},yb=function(){if(p.style.toLowerCase()===RW.CUSTOM){var a=d.getClassOptions(),b=d.getThemeOptions(a);a.style===RW.CUSTOM&&RW._isEqualImg(p.imgUrl,a.imgUrl)||b.style===RW.CUSTOM&&RW._isEqualImg(p.imgUrl,b.imgUrl)||RW._addCustomImgStyle(p.imgUrl,[A],"urid",i.urid)}},zb=function(a,b){if(b=!1||b,(b||d.isReady())&&p.showTooltip){var c=RW._getFirstByTagName("a",a);a=RW._is(c)?c:a,RW._tooltip.style.left="",RW._tooltip.style.top="",a.appendChild(RW._tooltip),RW._tooltip.style.display="block",RW._tooltip.style.left="-"+Math.ceil((RW.width(RW._tooltip)-d.getIconWidth())/2)+"px";var e=RW.offset(RW._tooltip),f=RW.docOffset();doc.body.appendChild(RW._tooltip),RW._tooltip.style.left=e.left+"px";var g=RW.height(RW._tooltip);e.top-g-4>f.top?(RW._Class.set(RW._tooltip,"rw-ui-tooltip rw-valign-top"),RW._tooltip.style.top=e.top-g-3+"px"):(RW._Class.set(RW._tooltip,"rw-ui-tooltip rw-valign-bottom"),RW._tooltip.style.top=e.top+d.getIconWidth()+4+"px")}},Ab=function(){Q(),j.innerHTML="",j.setAttribute("style",(RW._is(B)?B+";":"")+r.css.container),yb(),xb(),d.isStar()?ub():d.isThumb()&&wb(),p.showInfo&&(k=RW._getFirstByClassName("rw-ui-info","span",j),m=k.parentNode,l=m.parentNode),rb()&&(o=RW._getFirstByClassName("rw-ui-mobile-stars","select",j),i.isRated||(o.selectedIndex=-1)),d.refresh(),fb()},Bb=function(a,b){var c=new Date,d=new Date(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate(),c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds()),e=Date.parse(a.replace(/-/g,"/"))+864e5*b;return d.getTime()>=e?!0:e},Cb=function(){var a=!1;return a=i.isRated?p.reVote?p.frequency==RW.FREQUENCY.UNLIMITED?!1:p.frequency==RW.FREQUENCY.ONCE?i.lastVote.id:!0===Bb(i.lastVote.created,p.frequency)?!1:i.lastVote.id:!1:!1},Db=function(){i.voteEnd(),d.refresh()},Eb=function(a,c){d.setTooltip('<i class="rw-action-loader"></i>',!0),zb(a,!0);var f=i.beforeRate(),g=f?f(b,c):!0;if(!1===g)return Db(),void 0;!0===g&&RW._is(RW.visitor.id)&&(g=RW.visitor.id),d.setLabel(w.thanks);var h=Cb(),j=[{name:"urid",value:i.urid},{name:"riid",value:d.id}];j.push(RW.TYPE.STAR===A?{name:"rate",value:c*(RW.MAX/r.star.stars)}:{name:"like",value:c}),h!==!1&&j.push({name:"voteID",value:h}),g!==!0&&j.push({name:"vid",value:g}),p.uarid>0&&j.push({name:"uarid",value:p.uarid}),RW.Com.jsonp(RW._jsUrl("api/rating/rate.php"),{data:j}),typeof undef!=typeof _gaq&&(_gaq.push(["_setCustomVar",1,"urid",i.urid,3]),_gaq.push(["_setCustomVar",2,"title",p.title,3]),_gaq.push(["_setCustomVar",3,"rate",RW.TYPE.STAR===A?c.toString():c?"like":"dislike",1]),_gaq.push(["_trackEvent","Rating","Vote",p.title,c]))},Fb=function(a,b,c){if(d.isReady())if(i.voteBegin(),d.hideReport(),d.hideTooltip(),RW.shouldConnect()){var e=doc.createElement("iframe"),f=doc.createElement("div");f.id="rw_modal",e.className="rw-ui-signup-window",e.src=RW._url(RW.Com.getUrl("/signup/visitor/",[{name:"site_id",value:RW.site.id},{name:"type",value:A},{name:"style",value:p.style},{name:"rate",value:RW.TYPE.STAR===A?b:b?5:0},{name:"label",value:encodeURIComponent(RW.TYPE.STAR===A?_(b-1):w[b?"like":"dislike"])},{name:"stars",value:RW.TYPE.STAR===A?r.star.stars:0},{name:"cguid",value:RW._guid()}])),e.onload=function(){this.style.visibility="visible",RW.remove(RW._getFirstByTagName("img",f))},body.appendChild(f),f.innerHTML=F(),f.appendChild(e),window.addEventListener("message",function(d){if(d=d||window.event,d.data.startsWith("rw:")){var e=d.data.split(":"),g=e[1];switch(g){case"rw_visitor_id":RW._setVisitorID(e[2],!0),Eb(a,b,c);
break;default:Db()}RW.remove(f)}},!1)}else Eb(a,b,c)};d.distroy=function(){RW.remove(a)},d.getClass=function(){return D=RW.getGlobalOptions(),RW._Set.getOption([e,D],"rclass")},d.getClassOptions=function(){return RW.getClassOptions(d.getClass())},d.getThemeOptions=function(a){return D=RW.getGlobalOptions(),RW._getThemeOptions(RW._Set.getOption([e,a,D],"theme",!1))},d.getCalculatedOptions=function(){var a=d.getClassOptions();D=RW.getGlobalOptions();var b=RW._Set.merge([e,a,d.getThemeOptions(a),D],C);return RW._isNotEmptyString(b.style)||(b.style=RW._DEF_STYLES[b.type.toUpperCase()]),b.style.toLowerCase()!==RW.CUSTOM||RW._isTrial()||RW._isProfessional()||(b.style=RW._DEF_STYLES[b.type.toUpperCase()]),b},d.getIconWidth=function(){return p.size==RW.SIZE.SMALL?16:p.size==RW.SIZE.MEDIUM?20:p.size==RW.SIZE.TINY?13:30},d.isStar=function(){return A==RW.TYPE.STAR},d.isThumb=function(){return A==RW.TYPE.NERO},d.getTotalLikes=function(){return hb("like")},d.getTotalDislikes=function(){return hb("dislike")},d.getBoostedVotes=function(){var a=d.getBoostedValues();return d.isStar()?a.votes:(r.nero.showLike?a.likes:0)+(r.nero.showDislike?a.dislikes:0)},d.getBoostedValues=function(){var a=p.showAverage?i.votes+p.boost.votes:i.isRated?1:0,b=p.showAverage?d.getNormalizedRate(i.rate)+p.boost.rate*p.boost.votes:d.getNormalizedRate(i.lastVoteRate),c=Math.floor(b/RW.MAX),e=Math.max(0,a-c);return d.isStar()?{votes:a,rate:b}:{likes:c,dislikes:e}},d.localizeNumber=function(a){return RW.localizeNumber(a,p.lng)},d.formatLabel=function(a){if(-1===a.indexOf("/%")&&-1===a.indexOf("{{"))return a;var b=d.getBoostedValues(),c=b.votes;d.isThumb()&&(c=0,r.nero.showLike&&(c+=b.likes),r.nero.showDislike&&(c+=b.dislikes));var e={"text.rateThis":w.rateThis,"text.votes":1==c?w.vote:w.votes},f={"rating.votes":c,"rating.likes":b.likes,"rating.dislikes":b.dislikes,"rating.max_rate":r.star.stars,"rating.avg_rate":c>0?(b.rate/c*(r.star.stars/RW.MAX)).toFixed(2):0,"rating.rate_percent":c>0?Math.ceil(100*(b.rate/c)/RW.MAX):0},g=RW.isLocalizedNumbers(p.lng),h=0;do{for(var i in e)a=a.replace("/%"+i+"%/",e[i]),a=a.replace("{{"+i+"}}",e[i]);for(var i in f)a.indexOf("/%"+i+"%/")>-1&&(a=a.replace("/%"+i+"%/",g?d.localizeNumber(f[i]):f[i])),a.indexOf("{{"+i+"}}")>-1&&(a=a.replace("{{"+i+"}}",g?d.localizeNumber(f[i]):f[i]));h++}while(10>h&&(a.indexOf("/%")>-1||a.indexOf("{{")>-1));return a=a.trim()},d.getLabelValue=function(){var a=d.getBoostedValues(),b="";return d.isStar()?p.readOnly||0!==a.votes&&(p.showAverage||i.isRated)?p.showAverage?(b=x.text.star.rated,p.readOnly||i.isRated||(b=x.text.star.normal)):b=w.thanks:b=x.text.star.empty:b=p.readOnly||i.isRated?r.nero.showLike&&r.nero.showDislike?x.text.nero.rated:"":x.text.nero.empty,b},d.getNormalizedRate=function(a,b){if(d.isThumb())return a;var c=a*(r.star.stars/RW.MAX);return!0===b?Math.round(c):c},d.isReady=function(){return"ready"==i.getState()},d.isActive=function(){var a=!1;return a=p.readOnly?!1:i.isRated?p.reVote&&(d.isStar()&&r.star.stars>1||d.isThumb()&&r.nero.showLike&&r.nero.showDislike)?!0:p.frequency==RW.FREQUENCY.ONCE?!1:p.frequency==RW.FREQUENCY.UNLIMITED?!0:!0===Bb(i.lastVote.created,p.frequency):!0,RW._Class.toggle(j,g+"active",!0===a),a},d.isActiveAndReady=function(){return d.isActive()&&d.isReady()},d.setOptions=function(a){e=RW._Set.merge([a],C),d.render()},d.setSize=function(a){a!=p.size&&(RW._Class.override(j,g+"size-"+p.size,g+"size-"+a),p.size=a)},d.setStyle=function(a,b){if(b=RW._def(b,{ltr:"",rtl:""}),a=a.toLowerCase(),a!=p.style||a==RW.CUSTOM&&!RW._isEqualImg(b,p.imgUrl)){if(p.style==RW.CUSTOM&&a!==RW.CUSTOM){RW._Class.remove(j,g+"theme-"+p.theme),RW._Class.remove(j,g+"class-"+p.rclass);var c=RW._getById("rw_urid_"+i.urid+"_custom_style");RW._is(c)&&RW.remove(c)}RW._Class.override(j,g+"style-"+p.style,g+"style-"+a),p.style=a,p.imgUrl=b,p.style.toLowerCase()==RW.CUSTOM&&RW._addCustomImgStyle(p.imgUrl,[A],"urid",i.urid)}},d.toggleBold=function(){RW._Class.toggle(j,g+"bold"),t.bold=!t.bold},d.toggleLike=function(a){d.isThumb()&&(r.nero.showLike=RW._is(a)?a:!r.nero.showLike,d.render())},d.toggleDislike=function(a){d.isThumb()&&(r.nero.showDislike=RW._is(a)?a:!r.nero.showDislike,d.render())},d.setReadOnly=function(a){a!=p.readOnly&&(RW._Class.toggle(j,g+"active"),p.readOnly=a)},d.setShowInfo=function(a){a!=p.showInfo&&(p.showInfo=a,d.render())},d.toggleItalic=function(){RW._Class.toggle(j,g+"italic"),t.italic=!t.italic},d.setFontType=function(a){a!=t.type&&(RW._foreach(RW._getByTagName("span",j),function(b){b.style.fontFamily=a}),t.type=a)},d.setLabelBackground=function(a,b){a=RW.Color.canonize(a),(b||a!=RW.Color.canonize(p.label.background))&&(p.showInfo&&(l.style.backgroundColor=a),d.setLabelNubColor(a,"inner"),p.label.background=a)},d.setFontColor=function(a,b){a=RW.Color.canonize(a),(b||a!=RW.Color.canonize(t.color))&&(d.setLabelColor(a),t.color=a)},d.setFontHOverColor=function(a){a=RW.Color.canonize(a),a!=RW.Color.canonize(u.color)&&(u.color=a)},d.setFontSize=function(a){a!=t.size&&(p.showInfo&&(k.style.fontSize=a),d.isThumb()&&(r.nero.showLike&&(V().style.fontSize=a),r.nero.showDislike&&(W().style.fontSize=a)),t.size=a)},d.setDirection=function(a){a!=y.dir&&(RW._Class.override(j,g+"dir-"+y.dir,g+"dir-"+a),y.dir=a)},d.setAlignment=function(a,b){(a!=z.ver||b!=z.hor)&&(a!=z.ver&&RW._Class.replace(j,g+"valign-"+z.ver,g+"valign-"+a),b!=z.hor&&RW._Class.replace(j,g+"halign-"+z.hor,g+"halign-"+b),p.showInfo&&a!=z.ver&&(a==RW.ALIGN.VER.TOP?(j.appendChild(l),j.appendChild(X())):(j.appendChild(X()),j.appendChild(l))),z.ver=a,z.hor=b,d.setLabelBackground(p.label.background,!0),d.setFontColor(t.color,!0))},d.setLineHeight=function(a){a!=y.lineHeight&&(p.showInfo&&(k.style.lineHeight=a),d.isThumb()&&(r.nero.showLike&&(V().style.lineHeight=a),r.nero.showDislike&&(W().style.lineHeight=a)),y.lineHeight=a)},d.setLanguage=function(a){if(a!=p.lng&&RW._is(RWL[a])){for(var b in v)w[b]=RWL[a].text[b];d.setDirection(RWL[a].dir),RW.ALIGN.VER.MIDDLE===z.ver&&d.setAlignment(RWL[a].align.ver,RWL[a].align.hor),p.lng=a,d.refresh()}},d.setStarsNum=function(a){a=Math.max(RW.MIN_STARS,Math.min(RW.MAX_STARS,parseInt(a,10))),A===RW.TYPE.STAR&&r.star.stars!==a&&(r.star.stars=a,d.render())},d.setCSS=function(a,b){if(RW._is(r.css[a])&&r.css[a]!==b){r.css[a]=b;var c=j.style.display;j.setAttribute("style",b),j.style.display=c}},d.setLabel=function(a){d.isReady()&&p.showInfo&&(""==a?RW._getFirstByClassName("rw-ui-info-container","span",j).style.display="none":p.showInfo&&(k.innerHTML=d.formatLabel(a)))},d.setLabelColor=function(a){d.isReady()&&p.showInfo&&(p.showInfo&&(k.style.color=a),d.setLabelBorderColor(RW.Color.toRgba(a,.5)))},d.setLabelBorderColor=function(a){p.showInfo&&(m.style.borderColor=a),d.setLabelNubColor(a,"outer")},d.setLabelNubColor=function(a,b){if(p.showInfo){var b=RW._getFirstByClassName("rw-ui-info-"+b+"-nub","*",l),c=RW.ALIGN.VER.MIDDLE===z.ver?z.hor:z.ver;b.style.borderTopColor=b.style.borderRightColor=b.style.borderBottomColor=b.style.borderLeftColor="",b.style["border"+c.ucfirst()+"Color"]=a}},d.setTooltip=function(a,b){return b=!1||b,(b||d.isReady())&&p.showTooltip?(RW._tooltip.innerHTML='<b></b><span class="rw-ui-tooltip-label"><nobr>'+a+"</nobr></span>",!a.isEmpty()):void 0},d.rate=function(a,b){a=(n.length+a)%n.length,n[a].onclick(b),rb()&&(o.selectedIndex=n.length-1-a)},d.doRate=function(a,b,c){return a=Math.min(r.star.stars,Math.max(RW.MIN,a)),Fb(b,a,c)},d.like=function(a,b,c){return Fb(a,RW._def(c,!0),b)},d.dislike=function(a,b){return d.like(a,b,!1)},d.hideTooltip=function(){i.hideTooltip()},d.hideReport=function(){RW.RatingReport.close(!0)},d.showReport=function(){if(Y()){var a=RW._getFirstByClassName("rw-ui-info-container","span",j);RW._is(a)||(a=j),RW.RatingReport.open(d,a)}},d.refresh=function(){d.isStar()?ib():d.isThumb()&&jb(),RW._isPremium()&&RW._Class.add(j,"premium",h),d.setFontColor(t.color,!0),d.setLabelBackground(p.label.background,!0),d.setLabel(d.getLabelValue()),d.hideTooltip()},d.renderNub=function(){return'<i class="rw-ui-info-nub rw-ui-info-outer-nub"></i><i class="rw-ui-info-nub rw-ui-info-inner-nub"></i>'},d.renderMobileDropdown=function(){for(var a='<div class="rw-mobile-action-area"><select class="rw-ui-mobile-stars"><optgroup label="'+w.rateThis+'">',b=d.isActive()?"":' disabled="disabled"',c=i.isRated?i.lastVoteRate-1:-1,e=r.star.stars-1;e>=0;e--)a+="<option"+(e===c?' selected="selected"':b)+">"+_(e)+"</option>";return a+="</optgroup>"+(RW._isPremium()?"":'<optgroup label="Powered By"><option><a href="'+WWW+'" target="_blank">RatingWidget.com</a></option></optgroup>')+"</select></div>"},d.render=function(){Ab()},d.getRating=function(){return i},d.getStar=function(a){return n[(n.length+a)%n.length]},d.showMobileUX=function(){return rb()},d.hasRecommendations=function(){return RW._isArray(i.recommendations)&&i.recommendations.length>0},d.recommendationsCount=function(){return d.hasRecommendations()?i.recommendations.length:0},d.getRecommendations=function(){return i.recommendations},d.getReport=function(){for(var a={},b=1,c=r.star.stars;c>=b;b++)a[b]=0;for(var e=0,c=i.report.length;c>e;e++)a[d.getNormalizedRate(i.report[e].rate,!0)]+=parseInt(i.report[e].votes,10);return a},d.isVisible=function(){return RW.isVisible(j)},d.id=c,d.rating=i,d.element=j,d.options=E(i.options),G()},RW.RatingReport=function(){var b=null,c=null,d=null,e=null,f=function(a,c){if(a.isReady()&&a.options.showReport&&(!a.isThumb()||a.advanced.nero.showLike&&a.advanced.nero.showDislike)&&(!RW._isPremium()||!(a.isStar()&&a.advanced.star.stars<2||a.isThumb()&&0===a.getBoostedVotes()))){d=c,e=a,RW._Class.set(b,"rw-ui-report rw-meta-rating-"+e.rating.rid);var f=n();if(RW._is(e.rating.report)||e.isThumb()&&!f)t();else if(e.isStar()||f){var g=[{name:"rid",value:e.rating.rid}];f&&(g.push({name:"type",value:e.type}),g.push({name:"recommendations",value:!0}),g.push({name:"category",value:RW.site.category}),g.push({name:"sponsored",value:(RW._showSponsoredRecommendations()||a.options.showSponsored)&&RW.Sponsored.preload()?RW.Sponsored.count():0}),g.push({name:"show_sponsored",value:RW._showSponsoredRecommendations()||a.options.showSponsored}),g.push({name:"country",value:RW.visitor.country})),e.getRating().setCalling(),RW.Com.jsonp(RW._jsUrl("api/v2/rating/report.php"),{data:g})}}},g=function(a,b,c){for(var d=RW.Svg.createElement("g"),e=RW.Svg.createElement("defs"),f=null,g=null,h=0;h<c.length;h++){f=RW.Svg.createElement("radialGradient"),RW._setAttr(f,{id:"grad_"+c[h].id,r:"50%",cx:"50%",cy:"50%",gradientUnits:"userSpaceOnUse"});for(var i=0;i<c[h].stops.length;i++)g=RW.Svg.createElement("stop"),RW._setAttr(g,{offset:c[h].stops[i][0],"stop-color":c[h].stops[i][1]}),f.appendChild(g);e.appendChild(f)}a.appendChild(d),d.appendChild(e);for(var j=!1!==RW.Ad.get()||m(),k={width:RW.width(a),height:RW.height(a)},l={x:k.width/2,y:j?k.height:k.height/2},n=j?k.width/2-50:Math.min(k.width,k.height)/2,o=j?n-80:n-30,p=j?2*RW._sum(b):RW._sum(b),q=null,r=j?180:270,s=0,h=0;h<b.length;h++)part=b[h]/p,1==Math.floor(part)&&(part=.999999),s=r+360*part,q=RW.Svg.getArcPath(l,n,r,s,o),RW._setAttr(q,{fill:"url(#grad_"+c[h].id+")"}),d.appendChild(q),r=s},h=function(a){if(e.isVisible()){b.style.display="block";var c=RW.width(a),d=RW.height(a),f=RW.width(b),g=RW.Ad.get(),h="rw-ui-report rw-size-large rw-halign-center gradient rw-dir-"+e.advanced.layout.dir+(e.isStar()?" rw-type-star":" rw-type-nero")+" rw-meta-rating-"+e.rating.rid+(e.getBoostedVotes()>0?"":" rw-no-votes")+(RW._isPremium()?" rw-premium":"")+(n()&&m()?" rw-ui-ad-468x60":RW._isPremium()||!1===g?"":" rw-ui-ad-"+g.width+"x"+g.height);RW._Class.set(b,h),b.style.left="0",b.style.top="0",a.appendChild(b),b.style.left="-"+Math.ceil((f-c)/2)+"px";var i=RW.offset(b),j=RW.docOffset();doc.body.appendChild(b),b.style.left=i.left+"px";var k=RW.height(b),l=i.top-k-10,o=i.top+d+10;l>j.top?(h+=" rw-valign-top",b.style.top=l+"px"):(h+=" rw-valign-bottom",b.style.top=o+"px"),RW._Class.set(b,h)}},i=function(){return'<span class="rw-ui-close" onclick="RW.RatingReport.close(true);">&times;</span>'},j=function(a,b){var c=RW.getDomain(a.url);return'<a href="'+a.url+'" title="Read More" onclick="RW.Trc.linkClick(this, {cell: '+b+", siteCategory: '"+RW.site.category+'\'}); return false;">    <img src="'+RW._tmbUrl(RW._isNotEmptyString(a.img)?a.img:a.url,152,110)+'" alt="" />    <span class="rw-ui-title">'+a.title+(RW._isString(c)?" <b>"+c+"</b>":"")+"</span></a>"},k=function(a,b,c){return c=c||"&#10064; Sponsored",'<a class="rw-ui-external" href="'+a.url+'" target="_blank" title="Read More" onclick="RW.Sponsored.clicked(\''+a.postId+"'); RW.Trc.adClick('"+a.clickUrl+'\'); return false;">    <img src="'+RW._tmbUrl(RW._isNotEmptyString(a.thumbnail_path)?a.thumbnail_path:a.url,152,110)+'" alt="" />    <span class="rw-ui-title">'+a.title+" <b>"+(RW._isString(a.domain)?a.domain:"Sponsored")+'</b></span>    <b class="rw-ui-label">'+c+"</b></a>"},l=function(){var a=e.getRecommendations(),b=RW.Sponsored.get(Math.max(1,3-(RW._isNotEmptyArray(a)?a.length:0))),c=!1,d='<div class="rw-ui-recommendations">    <span class="rw-ui-recommendations-title">'+e.advanced.text.weRecommend+":</span>    <ul>";b.length>0&&RW.Trc.load("sponsored_link"),3===b.length&&b.swap(0,1);for(var f=0,g=0,h=0;3>f;f++)c=3===b.length||1===f&&b.length>0||2===f&&b.length>1,d+="<li>"+(c?k(b[g],f):j(a[h],f))+"</li>",c?g++:h++;return d+="    </ul></div>"},m=function(){return 3<=e.recommendationsCount()+(RW._is(RW.Sponsored)?RW.Sponsored.count():0)},n=function(){return e.options.hideRecommendations?!1:RW._isFree()&&RW._showRecommendations()||RW._isPaid()&&e.options.showRecommendations},o=function(){return'Powered by <a href="http://rating-widget.com/?s='+RW.site.type.toLowerCase()+'&w=report" target="_blank" rel="nofollow"><em></em> <b>Rating</b><i>Widget</i></a>'},p=function(){var a="";return n()&&m()&&(a+=l()),RW._isPaid()||(a+=o()),a.isEmpty()?"":'<div class="rw-ui-poweredby">'+a+"</div>"},r=function(){for(var a=e.getBoostedValues(),b='<div class="rw-ui-report-header">'+e.localizeNumber(a.votes>0?Math.round(100*(a.rate/a.votes))/100:0)+" "+e.advanced.text.outOf+" "+e.localizeNumber(e.advanced.star.stars)+"</div>"+i()+"<table>",c=e.getReport(),d=e.advanced.star.stars;d>=1;d--){var f=(RW._is(c)&&RW._is(c[d])?parseInt(c[d],10):0)+(d+1==e.options.boost.rate?e.options.boost.votes:0),g=a.votes>0?Math.floor(1e4*(f/a.votes))/100:0;b+="<tr><td><em>"+(e.advanced.star.stars>RW.MAX?e.localizeNumber("["+d+"/"+e.advanced.star.stars+"]"):e.advanced.text[RW._TEXT_MAP.STAR[d-1]])+'</em></td><td><b><i style="width: '+g+'%;"></i></b></td><td><var>('+e.localizeNumber(f)+")</var></td></tr>"}return b+="</table>",b+=p(),b+=e.renderNub()},s=function(){var a=e.getBoostedValues(),b=a.likes>=a.dislikes,c=Math.ceil(100*((b?a.likes:a.dislikes)/(a.likes+a.dislikes))),d=a.likes+a.dislikes,f='<div class="rw-ui-report-header">'+d+" "+e.advanced.text.votes+"</div>"+i()+'<div class="rw-ui-svg-container rw-ui-nero rw-ui-'+(b?"like":"dislike")+" rw-size-large rw-style-"+e.options.style+'"><svg version="1.2" xmlns="'+svgXmlns+'" xmlns:xlink="http://www.w3.org/1999/xlink"></svg><div class="rw-data"><span><b>'+c+'</b><i>%</i></span><i class="rw-icon rw-ui-'+(b?"like":"dislike")+'-icon rw-hover"></i></div></div>';return f+=p(),f+=e.renderNub(),RW.Com.jsonp(RW._jsUrl("api/track.php"),{data:[{name:"event",value:"nero_report"}]}),f},t=function(){if(b.innerHTML=e.isStar()?r():s(),h(d),e.isThumb()){var a=e.getBoostedValues();if(0===a.likes+a.dislikes)return;g(RW._getFirstByTagName("svg",b),[a.likes,a.dislikes],[{id:"green",stops:[["0%","#9AF87B"],["100%","#54d547"]]},{id:"red",stops:[["0%","#FF7351"],["100%","#FF3200"]]}])}e.getRating().setReady()},u=function(){RW._is(b)&&RW.hide(b)},v=function(){!RW._is(c)&&RW.isVisible(b)&&(c=setTimeout(function(){u()},500))},w={init:function(){b=doc.createElement("div"),b.style.display="none",b.className="rw-ui-report",body.appendChild(b),b.onmouseover=function(){null!==c&&(clearTimeout(c),c=null)},RW.mouseOut(b,v)},open:function(a,c){b.onmouseover(),RW.isVisible(b)||f(a,c)},close:function(a){!0===a?u():v()},_getCallback:function(a){var b=RW.getRating(a.rating.urid);if(RW._is(b)&&!RW._isArray(b.report)){if(b.recommendations=a.recommendations,RW.Sponsored.append(a.sponsored),b.report=[],e.isStar())for(var c=0,d=a.rating.report.length;d>c;c++)b.report.push({rate:parseFloat(a.rating.report[c].rate),votes:parseInt(a.rating.report[c].votes,10)});t()}}};return w}(),RW.Trc=function(){return{linkClick:function(a,b){b=RW._extandObj(b,{refUrl:encodeURIComponent(RW._isString(a)?a:a.href)}),RW.Com.jsonp(RW._jsUrl("api/tracking/click.php"),{data:RW.Com.toNameValue(b)})},adClick:function(a){window.open(RW._url("/ad/click/")+"?url="+encodeURIComponent(a))},load:function(a,b,c){var d={category:a};undef!==b&&(d.label=b),undef!==c&&(d.val=c),RW.Com.jsonp(RW._jsUrl("api/tracking/load.php"),{data:RW.Com.toNameValue(d)})}}}(),RW.TopRated={},RW.TopRated.Widget=function(a,b){var c=this,d=b.itemGroups,b=RW._extandObj(b,{title:{label:"",show:!0,before:"",after:""},options:{align:"vertical",dir:"ltr",html:{before:"",after:""}},site:{id:0,domain:"",type:"NOT_SET"},itemGroups:[]}),e=function(){if(!b.title.show)return"";var a='<div class="rw-ui-header">';return before=b.title.before.isEmpty()?'<h3 class="rw-ui-content-recommendations-title">':b.title.before,after=b.title.after.isEmpty()?b.title.before.isEmpty()?"</h3>":"":b.title.after,a+=before+b.title.label+after+"</div>"},f=function(a){return RW._isPremium()?"":'<div class="rw-ui-footer">'+g(a)+"</div>"},g=function(a){return RW._renderPoweredBy(a)},h=function(){for(var a=b.options.html.before+'<div class="rw-ui-content-recommendations rw-ui-control rw-dir-'+b.options.direction+'">    <div class="rw-ui-header">'+e()+'</div>    <div class="rw-ui-content-recommendation-groups">',c=0,g=d.length;g>c;c++)a+=new RW.TopRated.Group(d[c],c).render();return a+="    </div>    "+f("http://rating-widget.com/?s="+RW.site.type.toLowerCase()+"&w=toprated")+"</div>"+b.options.html.after};c.render=function(){for(var c,b=h(),d=0;d<a.length;d++){for(a[d].innerHTML=b,c=RW._getFirstByClassName("rw-ui-content-recommendations","*",a[d]);RW._is(a[d].firstChild);)RW.insertBefore(a[d].firstChild,a[d]);RW.remove(a[d]),a[d]=c,RW.hide(c)}},c.postRender=function(){RW.Trc.load("toprated",b.itemGroups[0].style),RW._foreach(a,function(a){RW.show(a),RW._isPremium()&&RW.remove(RW._getFirstByClassName("rw-ui-poweredby","*",a))})};var i=function(a,b){for(var c=RW._getByClassName("rw-ui-group-item","li",a),d=Math.min(c.length,b.count()),e=0;d>e;e++)RW.insertAfter(b.renderItem(e),c[e])},j=function(a){for(var b=RW._cloneObj(a.items),c=0,e=d.length;e>c;c++)if(d[c].type===a.type){a=RW._extandObj(a,d[c]);break}for(var f=0,g=b.length;g>f;f++)delete b[f].rating;return a.items=b,a},k=function(a){for(var b=0,c=a.itemGroups.length;c>b;b++){var d=RW._getFirstByAttr("data-type",a.itemGroups[b].type,"rw-ui-group");RW._is(d)&&(j(a.itemGroups[b]),i(d,new RW.TopRated.Group(a.itemGroups[b])))}};c.addItems=function(a){k(a)}},RW.TopRated.Group=function(a){var c=this,d=a.items,e=function(b,c,d,e){return'<a class="'+d+'" href="'+b.page.url+'" title="'+b.page.title+'" onclick="RW.Trc.linkClick('+(RW._is(b.page.trackUrl)?"'"+b.page.trackUrl+"'":"this")+", {category: 'toprated', label: '"+a.type+"', cell: "+c+", elementType: '"+e+"'}); return false;\""+(!0===b.page.sponsored?' target="_blank"':"")+">"},f=function(a,b){if(undef===a.rating)return"";var c="rw-ui-container rw-class-"+a.rating.options.rclass+" rw-urid-"+a.rating.localID+" rw-size-small rw-prop-readOnly-true rw-prop-showLoader-false"+(undef===b?"":" "+b.join(" "));return'<div class="'+c+'"></div>'},g=function(a){return a=a||"Ad","<b>"+a+"</b>"},h=function(b,c){var d="width: "+a.options.thumb.width+"px; height: "+a.options.thumb.height+"px;",e='<div class="rw-ui-thumb" style="'+d+'"><img src="'+b.page.img+'" style="'+d+'" alt="">';return c&&undef!==b.rating&&(e+='<div class="rw-ui-rating" style="width: '+(a.options.thumb.width-4)+'px;">'+f(b,["rw-prop-showReport-false","rw-valign-bottom","rw-halign-center"])+"</div>"),!0===b.page.sponsored&&(e+=g()),e+="</div>"},i=function(b,c){var g,d=b.page.title;switch(g='<div class="rw-ui-content-recommendation">',a.style){case"compact_thumbs":g+=e(b,c,"rw-ui-thumb-link","thumb")+h(b)+'</a><div style="margin-left: '+(a.options.thumb.width+20)+"px; min-height: "+(a.options.thumb.height+8)+'px; display: inline-block; vertical-align: middle;">'+e(b,c,"rw-ui-title","text")+d+"</a>"+f(b,["rw-prop-showInfo-false"])+"</div>";break;case"thumbs":g+=e(b,c,"rw-ui-thumb-link","thumb")+h(b,!0)+"</a>"+e(b,c,"rw-ui-title","text")+d+"</a>";break;case"legacy":default:g+=e(b,c,"rw-ui-title","text")+d+"</a>"+f(b)}return g+="</div>"},j=function(){return a.showTitle?'<div class="rw-ui-header">    <span class="rw-ui-group-title">'+a.title+":</span></div>":""},k=function(){return""},l=function(){for(var b='<div class="rw-ui-group rw-style-'+a.style+'" data-type="'+a.type+'">    '+j()+'    <ul class="rw-ui-group-items">',c=0,e=d.length;e>c;c++)b+='<li class="rw-ui-group-item">'+i(d[c],c)+"</li>";return b+="    </ul>    "+k()+"</div>"};c.count=function(){return d.length},c.renderItem=function(a){var b=document.createElement("li");return RW._Class.set(b,"rw-ui-group-item"),b.innerHTML=i(d[a],a),b},c.render=l},RW.Color=function(a){var f,b=this,c=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,g=function(){if(a===f){var b=RW._getFirstByTagName("script"),c=b.style.color;try{b.style.color="rgba(3,7,17,0.5)"}catch(d){}f=c!=b.style.color,b=c}return f},i=function(a){var b=parseInt(a,10).toString(16);return 1==b.length?"0"+b:b},j=function(a){return(a.length>4?a:"#"+a[1]+a[1]+a[2]+a[2]+a[3]+a[3]).toUpperCase()},k=function(a,b,c){return"#"+i(a)+i(b)+i(c)},l=function(a){var b=c.exec(a);return b?[parseInt(b[1],16),parseInt(b[2],16),parseInt(b[3],16)]:!1},m=function(a){return a.replace(/[^\d,]/g,"").split(",")};return b.toRgba=function(a,c){if(!g())return b.canonize(a);var d;return a=a.toLowerCase(),a.startsWith("rgb")?d=m(a):(a.startsWith("#")||(a="#"+a),d=l(a)),"rgba("+d[0]+", "+d[1]+", "+d[2]+", "+c+")"},b.toHex=function(a){if(!a.startsWith("rgb"))return a.toUpperCase();var b=m(a);return k(b[0],b[1],b[2]).toUpperCase()},b.canonize=function(a){return a.startsWith("#")?j(a):b.toHex(a)},b}()}(),RW._identifyVisitor();var RW_HOOK_READY=RW_HOOK_READY||[];RW_HOOK_READY.push(function(){if(!RW.isLocalhost()){if(!RW.isLocalhost()){if(!RW._isMobile())return;if("android"!==RW.visitor.device.os||"chrome"!==RW.visitor.device.browser&&"safari"!==RW.visitor.device.browser)return;if(RW._is(RW._getById("browsi-js")))return}var a=RW.getPrimaryRating();if(!1!==a){var b=a.getFirstInstance();if(b.isStar()&&b.options.mobile.showTrigger){if(!RW.isLocalhost()){if(!b.showMobileUX())return;if(a.isRated)return}RW.Com.asyncJS(RW._jsUrl("external/mobile.js"),{dailyCache:!0})}}}});var RW_HOOK_READY=RW_HOOK_READY||[];RW_HOOK_READY.push(function(){if(!RW._is(window.vglnk)&&!RW._isPremium()&&"safe"===RW.site.category){window.vglnk={api_url:"//api.viglink.com/api",key:"f6c9fb1ffe086e69e7ff5c6a722caf4c"};var a=document,b=a.createElement("script"),c=a.getElementsByTagName("script")[0];b.type="text/javascript",b.async=!0,b.src=(location.href.match(/^https/i)?window.vglnk.api_url:"//cdn.viglink.com/api")+"/vglnk.js",c.parentNode.insertBefore(b,c)}});var RW_HOOK_READY=RW_HOOK_READY||[];RW_HOOK_READY.push(function(){if(RW.isLocalhost()||"shopify"===RW.site.type.toLowerCase()){for(var b,c,a=RW._getByTagName("form"),d=0,e=a.length;e>d;d++)if("/cart/add"==a[d].getAttribute("action")){b=a[d];break}if(RW._is(b)){for(var f=RW._getByTagName("input",a[d]),g=0,e=f.length;e>g;g++)if("submit"===f[g].getAttribute("type")){c=f[g];break}RW._is(c)&&RW.attachEvent(c,"click",function(){var a=!1,b=RW.getRatings();for(var c in b)if(b[c].isRated){a=!0;break}RW.Trc.load("shopify_add2cart",a?"true":"false")})}}});